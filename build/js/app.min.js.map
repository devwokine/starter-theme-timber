{"version":3,"file":"app.min.js","sources":["assets/js/utils.js","assets/js/pages/home.js","assets/js/pages/page.js","../node_modules/nodelist-foreach-polyfill/index.js","../node_modules/fastclick/lib/fastclick.js","assets/js/modules/header.js","assets/js/app.js"],"sourcesContent":["export function onLoadedMetadata(e) {\n\n  const video = $(e.target);\n  let aspectRatio = video.data('aspectRatio');\n  if (aspectRatio == undefined) {\n      aspectRatio = video.width() / video.height();\n      video.data('aspectRatio', aspectRatio);\n  }\n  resizeVideo(video);\n\n}\n\nexport function resizeVideo(video) {\n\n  let newWidth;\n  let newHeight;\n  let videoRatio = video.data('aspectRatio');\n  if (videoRatio == undefined) videoRatio = 1.7777777;\n  let parentWidth  = video.parent().width();\n  let parentHeight = video.parent().height();\n  let parentRatio = parentWidth / parentHeight;\n\n  if (parentRatio > videoRatio && !video.hasClass('bgWidth')) {\n    video.removeClass(\"bgHeight\");\n    video.addClass(\"bgWidth\");\n  }\n  if (parentRatio <= videoRatio && !video.hasClass('bgHeight')) {\n    video.removeClass(\"bgWidth\");\n    video.addClass(\"bgHeight\");\n  }\n\n}\n\nexport function delay(ms){\n    var ctr, rej, p = new Promise(function (resolve, reject) {\n        ctr = setTimeout(resolve, ms);\n        rej = reject;\n    });\n    p.cancel = function(){ clearTimeout(ctr); rej(Error(\"Cancelled\"))};\n    return p;\n}\n\nexport function randomInt(min,max)Â {\n    return Math.floor(Math.random()*(max-min+1)+min);\n}\n\nexport function normalize(value, min, max) {\n  return (value - min) / (max - min);\n}\n\nexport function clamp(value, min, max) {\n  return value < min ? min : (value > max ? max : value);\n}\n\nexport function simulateClick(elem) {\n\n    var evt = new MouseEvent('click', {\n        bubbles: true,\n        cancelable: true,\n        view: window\n    });\n\n    var canceled = !elem.dispatchEvent(evt);\n\n};\n\nexport function mouseMovefn(e) {\n\n  let xMouse = e.pageX - e.currentTarget.getBoundingClientRect().left - ( e.currentTarget.offsetWidth / 2 );\n  let yMouse = e.pageY - window.pageYOffset - e.currentTarget.getBoundingClientRect().top - ( e.currentTarget.offsetHeight / 2 );\n  const mouseElements = e.currentTarget.querySelectorAll('*[data-mouse-parallax]');\n  mouseElements.forEach(elem => {\n    var factor = elem.getAttribute('data-mouse-parallax');\n    let xFinal = xMouse * factor;\n    let yFinal = yMouse * factor;\n    TweenMax.to(elem, 1.2, {x:xFinal, y:yFinal});\n  });\n\n}\n","export function initHome() {\n\n\tvar Home = Barba.BaseView.extend({\n\n\t\tnamespace: 'page-home',\n\n\t\tonEnter: function() {\n\n\t\t\tconsole.log('Init Home');\n\n\t\t},\n\n\t\tonLeaveCompleted: function() {\n\n\n\n\t\t}\n\n\t})\n\n\tHome.init();\n\n}\n","export function initPage() {\n\n\tvar Page = Barba.BaseView.extend({\n\n\t\tnamespace: 'page',\n\n\t\tonEnter: function() {\n\n\t\t\tconsole.log('Init Page');\n\n\t\t},\n\n\t\tonLeaveCompleted: function() {\n\n\n\n\t\t}\n\n\t})\n\n\tPage.init();\n\n}\n","if (window.NodeList && !NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = function (callback, thisArg) {\r\n        thisArg = thisArg || window;\r\n        for (var i = 0; i < this.length; i++) {\r\n            callback.call(thisArg, this[i], i, this);\r\n        }\r\n    };\r\n}\r\n",";(function () {\n\t'use strict';\n\n\t/**\n\t * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n\t *\n\t * @codingstandard ftlabs-jsv2\n\t * @copyright The Financial Times Limited [All Rights Reserved]\n\t * @license MIT License (see LICENSE.txt)\n\t */\n\n\t/*jslint browser:true, node:true*/\n\t/*global define, Event, Node*/\n\n\n\t/**\n\t * Instantiate fast-clicking listeners on the specified layer.\n\t *\n\t * @constructor\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tfunction FastClick(layer, options) {\n\t\tvar oldOnClick;\n\n\t\toptions = options || {};\n\n\t\t/**\n\t\t * Whether a click is currently being tracked.\n\t\t *\n\t\t * @type boolean\n\t\t */\n\t\tthis.trackingClick = false;\n\n\n\t\t/**\n\t\t * Timestamp for when click tracking started.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.trackingClickStart = 0;\n\n\n\t\t/**\n\t\t * The element being tracked for a click.\n\t\t *\n\t\t * @type EventTarget\n\t\t */\n\t\tthis.targetElement = null;\n\n\n\t\t/**\n\t\t * X-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartX = 0;\n\n\n\t\t/**\n\t\t * Y-coordinate of touch start event.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchStartY = 0;\n\n\n\t\t/**\n\t\t * ID of the last touch, retrieved from Touch.identifier.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.lastTouchIdentifier = 0;\n\n\n\t\t/**\n\t\t * Touchmove boundary, beyond which a click will be cancelled.\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.touchBoundary = options.touchBoundary || 10;\n\n\n\t\t/**\n\t\t * The FastClick layer.\n\t\t *\n\t\t * @type Element\n\t\t */\n\t\tthis.layer = layer;\n\n\t\t/**\n\t\t * The minimum time between tap(touchstart and touchend) events\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapDelay = options.tapDelay || 200;\n\n\t\t/**\n\t\t * The maximum time for a tap\n\t\t *\n\t\t * @type number\n\t\t */\n\t\tthis.tapTimeout = options.tapTimeout || 700;\n\n\t\tif (FastClick.notNeeded(layer)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Some old versions of Android don't have Function.prototype.bind\n\t\tfunction bind(method, context) {\n\t\t\treturn function() { return method.apply(context, arguments); };\n\t\t}\n\n\n\t\tvar methods = ['onMouse', 'onClick', 'onTouchStart', 'onTouchMove', 'onTouchEnd', 'onTouchCancel'];\n\t\tvar context = this;\n\t\tfor (var i = 0, l = methods.length; i < l; i++) {\n\t\t\tcontext[methods[i]] = bind(context[methods[i]], context);\n\t\t}\n\n\t\t// Set up event handlers as required\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.addEventListener('click', this.onClick, true);\n\t\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t\t// layer when they are cancelled.\n\t\tif (!Event.prototype.stopImmediatePropagation) {\n\t\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t\t} else {\n\t\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\t\tif (type === 'click') {\n\t\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t}), capture);\n\t\t\t\t} else {\n\t\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t\t// adding it as listener.\n\t\tif (typeof layer.onclick === 'function') {\n\n\t\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t\t// - the old one won't work if passed to addEventListener directly.\n\t\t\toldOnClick = layer.onclick;\n\t\t\tlayer.addEventListener('click', function(event) {\n\t\t\t\toldOnClick(event);\n\t\t\t}, false);\n\t\t\tlayer.onclick = null;\n\t\t}\n\t}\n\n\t/**\n\t* Windows Phone 8.1 fakes user agent string to look like Android and iPhone.\n\t*\n\t* @type boolean\n\t*/\n\tvar deviceIsWindowsPhone = navigator.userAgent.indexOf(\"Windows Phone\") >= 0;\n\n\t/**\n\t * Android requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0 && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent) && !deviceIsWindowsPhone;\n\n\n\t/**\n\t * iOS 4 requires an exception for select elements.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOS4 = deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n\t/**\n\t * iOS 6.0-7.* requires the target element to be manually derived\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsIOSWithBadTarget = deviceIsIOS && (/OS [6-7]_\\d/).test(navigator.userAgent);\n\n\t/**\n\t * BlackBerry requires exceptions.\n\t *\n\t * @type boolean\n\t */\n\tvar deviceIsBlackBerry10 = navigator.userAgent.indexOf('BB10') > 0;\n\n\t/**\n\t * Determine whether a given element requires a native click.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element needs a native click\n\t */\n\tFastClick.prototype.needsClick = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\n\t\t// Don't send a synthetic click to disabled inputs (issue #62)\n\t\tcase 'button':\n\t\tcase 'select':\n\t\tcase 'textarea':\n\t\t\tif (target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'input':\n\n\t\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\t\tif ((deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'label':\n\t\tcase 'iframe': // iOS8 homescreen apps can prevent events bubbling into frames\n\t\tcase 'video':\n\t\t\treturn true;\n\t\t}\n\n\t\treturn (/\\bneedsclick\\b/).test(target.className);\n\t};\n\n\n\t/**\n\t * Determine whether a given element requires a call to focus to simulate click into element.\n\t *\n\t * @param {EventTarget|Element} target Target DOM element\n\t * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n\t */\n\tFastClick.prototype.needsFocus = function(target) {\n\t\tswitch (target.nodeName.toLowerCase()) {\n\t\tcase 'textarea':\n\t\t\treturn true;\n\t\tcase 'select':\n\t\t\treturn !deviceIsAndroid;\n\t\tcase 'input':\n\t\t\tswitch (target.type) {\n\t\t\tcase 'button':\n\t\t\tcase 'checkbox':\n\t\t\tcase 'file':\n\t\t\tcase 'image':\n\t\t\tcase 'radio':\n\t\t\tcase 'submit':\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// No point in attempting to focus disabled inputs\n\t\t\treturn !target.disabled && !target.readOnly;\n\t\tdefault:\n\t\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t\t}\n\t};\n\n\n\t/**\n\t * Send a click event to the specified element.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t * @param {Event} event\n\t */\n\tFastClick.prototype.sendClick = function(targetElement, event) {\n\t\tvar clickEvent, touch;\n\n\t\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\t\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\t\tdocument.activeElement.blur();\n\t\t}\n\n\t\ttouch = event.changedTouches[0];\n\n\t\t// Synthesise a click event, with an extra attribute so it can be tracked\n\t\tclickEvent = document.createEvent('MouseEvents');\n\t\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t\tclickEvent.forwardedTouchEvent = true;\n\t\ttargetElement.dispatchEvent(clickEvent);\n\t};\n\n\tFastClick.prototype.determineEventType = function(targetElement) {\n\n\t\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\t\tif (deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\t\treturn 'mousedown';\n\t\t}\n\n\t\treturn 'click';\n\t};\n\n\n\t/**\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.focus = function(targetElement) {\n\t\tvar length;\n\n\t\t// Issue #160: on iOS 7, some input elements (e.g. date datetime month) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\t\tif (deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time' && targetElement.type !== 'month') {\n\t\t\tlength = targetElement.value.length;\n\t\t\ttargetElement.setSelectionRange(length, length);\n\t\t} else {\n\t\t\ttargetElement.focus();\n\t\t}\n\t};\n\n\n\t/**\n\t * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n\t *\n\t * @param {EventTarget|Element} targetElement\n\t */\n\tFastClick.prototype.updateScrollParent = function(targetElement) {\n\t\tvar scrollParent, parentElement;\n\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\n\t\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t\t// target element was moved to another parent.\n\t\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\t\tparentElement = targetElement;\n\t\t\tdo {\n\t\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\t\tscrollParent = parentElement;\n\t\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tparentElement = parentElement.parentElement;\n\t\t\t} while (parentElement);\n\t\t}\n\n\t\t// Always update the scroll top tracker if possible.\n\t\tif (scrollParent) {\n\t\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t\t}\n\t};\n\n\n\t/**\n\t * @param {EventTarget} targetElement\n\t * @returns {Element|EventTarget}\n\t */\n\tFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\n\t\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\t\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\t\treturn eventTarget.parentNode;\n\t\t}\n\n\t\treturn eventTarget;\n\t};\n\n\n\t/**\n\t * On touch start, record the position and scroll offset.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchStart = function(event) {\n\t\tvar targetElement, touch, selection;\n\n\t\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\t\tif (event.targetTouches.length > 1) {\n\t\t\treturn true;\n\t\t}\n\n\t\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\t\ttouch = event.targetTouches[0];\n\n\t\tif (deviceIsIOS) {\n\n\t\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\t\tselection = window.getSelection();\n\t\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (!deviceIsIOS4) {\n\n\t\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\t\t// Issue 120: touch.identifier is 0 when Chrome dev tools 'Emulate touch events' is set with an iOS device UA string,\n\t\t\t\t// which causes all touch events to be ignored. As this block only applies to iOS, and iOS identifiers are always long,\n\t\t\t\t// random integers, it's safe to to continue if the identifier is 0 here.\n\t\t\t\tif (touch.identifier && touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\t\tthis.updateScrollParent(targetElement);\n\t\t\t}\n\t\t}\n\n\t\tthis.trackingClick = true;\n\t\tthis.trackingClickStart = event.timeStamp;\n\t\tthis.targetElement = targetElement;\n\n\t\tthis.touchStartX = touch.pageX;\n\t\tthis.touchStartY = touch.pageY;\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.touchHasMoved = function(event) {\n\t\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\t\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Update the last position.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchMove = function(event) {\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// If the touch has moved, cancel the click tracking\n\t\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\t\tthis.trackingClick = false;\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * Attempt to find the labelled control for the given label element.\n\t *\n\t * @param {EventTarget|HTMLLabelElement} labelElement\n\t * @returns {Element|null}\n\t */\n\tFastClick.prototype.findControl = function(labelElement) {\n\n\t\t// Fast path for newer browsers supporting the HTML5 control attribute\n\t\tif (labelElement.control !== undefined) {\n\t\t\treturn labelElement.control;\n\t\t}\n\n\t\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\t\tif (labelElement.htmlFor) {\n\t\t\treturn document.getElementById(labelElement.htmlFor);\n\t\t}\n\n\t\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\t\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n\t};\n\n\n\t/**\n\t * On touch end, determine whether to send a click event at once.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onTouchEnd = function(event) {\n\t\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\t\tif (!this.trackingClick) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Prevent phantom clicks on fast double-tap (issue #36)\n\t\tif ((event.timeStamp - this.lastClickTime) < this.tapDelay) {\n\t\t\tthis.cancelNextClick = true;\n\t\t\treturn true;\n\t\t}\n\n\t\tif ((event.timeStamp - this.trackingClickStart) > this.tapTimeout) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Reset to prevent wrong click cancel on input (issue #156).\n\t\tthis.cancelNextClick = false;\n\n\t\tthis.lastClickTime = event.timeStamp;\n\n\t\ttrackingClickStart = this.trackingClickStart;\n\t\tthis.trackingClick = false;\n\t\tthis.trackingClickStart = 0;\n\n\t\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t\t// for this to function correctly, it must be called *after* the event target is checked!\n\t\t// See issue #57; also filed as rdar://13048589 .\n\t\tif (deviceIsIOSWithBadTarget) {\n\t\t\ttouch = event.changedTouches[0];\n\n\t\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t\t}\n\n\t\ttargetTagName = targetElement.tagName.toLowerCase();\n\t\tif (targetTagName === 'label') {\n\t\t\tforElement = this.findControl(targetElement);\n\t\t\tif (forElement) {\n\t\t\t\tthis.focus(targetElement);\n\t\t\t\tif (deviceIsAndroid) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\ttargetElement = forElement;\n\t\t\t}\n\t\t} else if (this.needsFocus(targetElement)) {\n\n\t\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\t\tif ((event.timeStamp - trackingClickStart) > 100 || (deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.focus(targetElement);\n\t\t\tthis.sendClick(targetElement, event);\n\n\t\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\t\t// Also this breaks opening selects when VoiceOver is active on iOS6, iOS7 (and possibly others)\n\t\t\tif (!deviceIsIOS || targetTagName !== 'select') {\n\t\t\t\tthis.targetElement = null;\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (deviceIsIOS && !deviceIsIOS4) {\n\n\t\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\t\tif (!this.needsClick(targetElement)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.sendClick(targetElement, event);\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * On touch cancel, stop tracking the click.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.onTouchCancel = function() {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t};\n\n\n\t/**\n\t * Determine mouse events which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onMouse = function(event) {\n\n\t\t// If a target element was never set (because a touch event was never fired) allow the event\n\t\tif (!this.targetElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (event.forwardedTouchEvent) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Programmatically generated events targeting a specific element should be permitted\n\t\tif (!event.cancelable) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t\t// to prevent ghost/doubleclicks.\n\t\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\t\tif (event.stopImmediatePropagation) {\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t} else {\n\n\t\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\t\tevent.propagationStopped = true;\n\t\t\t}\n\n\t\t\t// Cancel the event\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the mouse event is permitted, return true for the action to go through.\n\t\treturn true;\n\t};\n\n\n\t/**\n\t * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n\t * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n\t * an actual click which should be permitted.\n\t *\n\t * @param {Event} event\n\t * @returns {boolean}\n\t */\n\tFastClick.prototype.onClick = function(event) {\n\t\tvar permitted;\n\n\t\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\t\tif (this.trackingClick) {\n\t\t\tthis.targetElement = null;\n\t\t\tthis.trackingClick = false;\n\t\t\treturn true;\n\t\t}\n\n\t\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\t\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\t\treturn true;\n\t\t}\n\n\t\tpermitted = this.onMouse(event);\n\n\t\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\t\tif (!permitted) {\n\t\t\tthis.targetElement = null;\n\t\t}\n\n\t\t// If clicks are permitted, return true for the action to go through.\n\t\treturn permitted;\n\t};\n\n\n\t/**\n\t * Remove all FastClick's event listeners.\n\t *\n\t * @returns {void}\n\t */\n\tFastClick.prototype.destroy = function() {\n\t\tvar layer = this.layer;\n\n\t\tif (deviceIsAndroid) {\n\t\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t\t}\n\n\t\tlayer.removeEventListener('click', this.onClick, true);\n\t\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\t\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\t\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\t\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n\t};\n\n\n\t/**\n\t * Check whether FastClick is needed.\n\t *\n\t * @param {Element} layer The layer to listen on\n\t */\n\tFastClick.notNeeded = function(layer) {\n\t\tvar metaViewport;\n\t\tvar chromeVersion;\n\t\tvar blackberryVersion;\n\t\tvar firefoxVersion;\n\n\t\t// Devices that don't support touch don't need FastClick\n\t\tif (typeof window.ontouchstart === 'undefined') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Chrome version - zero for other browsers\n\t\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (chromeVersion) {\n\n\t\t\tif (deviceIsAndroid) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\t\tif (chromeVersion > 31 && document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tif (deviceIsBlackBerry10) {\n\t\t\tblackberryVersion = navigator.userAgent.match(/Version\\/([0-9]*)\\.([0-9]*)/);\n\n\t\t\t// BlackBerry 10.3+ does not require Fastclick library.\n\t\t\t// https://github.com/ftlabs/fastclick/issues/251\n\t\t\tif (blackberryVersion[1] >= 10 && blackberryVersion[2] >= 3) {\n\t\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\t\tif (metaViewport) {\n\t\t\t\t\t// user-scalable=no eliminates click delay.\n\t\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\t// width=device-width (or less than device-width) eliminates click delay.\n\t\t\t\t\tif (document.documentElement.scrollWidth <= window.outerWidth) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// IE10 with -ms-touch-action: none or manipulation, which disables double-tap-to-zoom (issue #97)\n\t\tif (layer.style.msTouchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Firefox version - zero for other browsers\n\t\tfirefoxVersion = +(/Firefox\\/([0-9]+)/.exec(navigator.userAgent) || [,0])[1];\n\n\t\tif (firefoxVersion >= 27) {\n\t\t\t// Firefox 27+ does not have tap delay if the content is not zoomable - https://bugzilla.mozilla.org/show_bug.cgi?id=922896\n\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\t\t\tif (metaViewport && (metaViewport.content.indexOf('user-scalable=no') !== -1 || document.documentElement.scrollWidth <= window.outerWidth)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\t// IE11: prefixed -ms-touch-action is no longer supported and it's recomended to use non-prefixed version\n\t\t// http://msdn.microsoft.com/en-us/library/windows/apps/Hh767313.aspx\n\t\tif (layer.style.touchAction === 'none' || layer.style.touchAction === 'manipulation') {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\n\t/**\n\t * Factory method for creating a FastClick object\n\t *\n\t * @param {Element} layer The layer to listen on\n\t * @param {Object} [options={}] The options to override the defaults\n\t */\n\tFastClick.attach = function(layer, options) {\n\t\treturn new FastClick(layer, options);\n\t};\n\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine(function() {\n\t\t\treturn FastClick;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = FastClick.attach;\n\t\tmodule.exports.FastClick = FastClick;\n\t} else {\n\t\twindow.FastClick = FastClick;\n\t}\n}());\n","import * as utils from '../utils.js';\n\nclass Header {\n\n  constructor(el) {\n\n    console.log('initHeader');\n\n\t  this.DOM = {};\n\t  this.DOM.el = el;\n\t  this.DOM.body = document.body;\n\t  this.DOM.brand = this.DOM.el.querySelector('.brand');\n\t  this.DOM.toggle = this.DOM.el.querySelector('.toggle__menu');\n    this.DOM.menuContainer = this.DOM.el.querySelector('nav');\n    this.menuOpen = false;\n\n\t  this.init();\n\n  }\n\n  init() {\n\n    //animation Open\n    const menuOpenTL = new TimelineMax({ paused: true});\n\n  \t//toggle\n  \tthis.DOM.toggle.addEventListener('click',(e) => {\n\n  \t\te.preventDefault();\n  \t\tthis.DOM.body.classList.toggle('showMenu');\n\n      //if Openning\n  \t\tif ( this.DOM.body.classList.contains('showMenu') ) {\n\n        this.menuOpen = true;\n        this.DOM.body.style.overflow = \"hidden\";\n        this.DOM.menuContainer.style.visibility = \"visible\";\n\n        //Animation\n        menuOpenTL.totalDuration(2).restart();\n\n  \t\t} else {\n\n        this.menuOpen = false;\n\n        //Animation Reverse\n        menuOpenTL.totalDuration(1).reverse();\n\n        this.DOM.body.style.overflow = \"auto\";\n        this.DOM.menuContainer.style.visibility = \"hidden\";\n\n  \t\t}\n\n  \t});\n\n\n    // Links Click\n    const links = this.DOM.menuContainer.querySelectorAll('.nav__link')\n    links.forEach((elem) => {\n\n      elem.addEventListener('click',(e)=> {\n        if ( this.DOM.menuContainer.querySelector('.active') != null ) {\n           this.DOM.menuContainer.querySelector('.active').classList.remove('active');\n        }\n        e.currentTarget.parentNode.classList.add('active');\n      })\n\n    });\n\n    // Brand Click\n    this.DOM.brand.addEventListener('click',(e)=> {\n\n      if ( this.DOM.menuContainer.querySelector('.active') != null ) {\n         this.DOM.menuContainer.querySelector('.active').classList.remove('active');\n      }\n\n    })\n\n  }\n\n}\n\nexport default Header;\n","import 'nodelist-foreach-polyfill'\nimport FastClick from 'fastclick';\nimport * as utils from './utils.js';\n\nimport Header from './modules/header.js';\n\nimport {initHome} from './pages/home.js';\nimport {initPage} from './pages/page.js';\n\nclass App {\n\n  constructor(opt = {}) {\n\n    //Declarations\n    this.sy = 0;\n    this.devMode = true;\n    this.DOM = {};\n    this.DOM.body = document.body;\n    this.DOM.footer = document.querySelector('footer');\n    this.DOM.barbaWrapper = document.querySelector('#barba-wrapper');\n\n    //Signature Wokine\n    window.scrollTo(0,0)\n    console.log(\"%cCreated by Wokine, with â¤\",\"color: #000; padding: 5px 0px 1px; border-bottom:2px solid #71d1c2;\"),console.log(\"%chttp://wokine.com\",\"color:#ccc\")\n\n    this.init();\n    this.addEvents();\n    this.intro();\n\n  }\n\n  init() {\n\n    //DevMode ( infos navigateur )\n    if (this.devMode) {\n  \t\tconsole.log('DEVMODE BIATCH');\n      console.log(window.Sniff);\n    }\n\n    //Resets\n    FastClick(this.DOM.body);\n    this.DOM.body.scrollTop = document.documentElement.scrollTop = 0;\n    history.scrollRestoration = 'manual';\n\n    // Create Header\n  \tconst header = new Header(document.querySelector('body > header'));\n\n    //Barba\n    Barba.Dispatcher.on('newPageReady', (currentStatus, oldStatus, container) => {\n\n      // newPageReady\n\n      // Animations\n      if (!window.Sniff.features.mobile) {\n        this.initPrllx(container);\n        this.initInView(container);\n      }\n\n    });\n\n    Barba.Dispatcher.on('linkClicked', (HTMLElement, MouseEvent) => {\n\n      //linkClicked\n\n    })\n\n    Barba.Dispatcher.on('initStateChange', function() {\n\n      //initStateChange\n  \t\tif (typeof ga === 'function') {\n  \t\t\tga('send', 'pageview', location.pathname);\n  \t\t}\n\n  \t});\n\n    var pageTransition = Barba.BaseTransition.extend({\n\n  \t\tstart: function() {\n\n  \t\t  Promise.all([this.newContainerLoading, this.transitionOut()])\n  \t\t  .then(this.transitionIn.bind(this));\n\n  \t\t},\n\n  \t\ttransitionOut: function() {\n\n  \t\t\tlet deferred = Barba.Utils.deferred();\n  \t\t\tlet oldContainer = this.oldContainer;\n\n\t\t\t  const pageOut = new TimelineMax({ paused:true, onComplete:()=>{\n\n          //Close Menu if Open\n          /*if(header.menuOpen){\n            if (window.Sniff.features.mobile) {\n              utils.simulateClick(header.DOM.toggle);\n            } else {\n              header.DOM.toggle.click();\n            }\n          }*/\n\n          window.scrollTo(0,0);\n\t\t\t\t  deferred.resolve();\n\n\t\t\t  }});\n\n        pageOut.to(oldContainer, 0.8, {opacity:0, ease:Power3.easeOut}, 0);\n        pageOut.play();\n\n  \t\t\treturn deferred.promise;\n\n  \t\t},\n\n  \t\ttransitionIn: function() {\n\n  \t\t\tvar _this = this;\n\n  \t\t\tthis.oldContainer.style.display = \"none\";\n  \t\t\tthis.newContainer.style.visibility = 'visible';\n\n\t\t    const pageIn = new TimelineMax({ paused:true, onComplete:()=>{\n\t\t\t\t\t_this.done();\n\t\t\t\t}})\n\n        pageIn.from(this.newContainer, 1.2, {opacity:0, ease:Power3.easeOut}, 0);\n        pageIn.play();\n\n  \t\t}\n\n  \t});\n\n  \tBarba.Pjax.getTransition = function() {\n  \t  return pageTransition;\n  \t};\n\n  \t//routes\n  \tinitHome();\n  \tinitPage();\n\n    Barba.Pjax.start();\n\n  }\n\n  addEvents()Â {\n\n    window.addEventListener('scroll', (e) => {\n  \t\tthis.sy = window.pageYOffset || document.documentElement.scrollTop;\n  \t})\n\n  }\n\n  initPrllx(container) {\n\n\t  const TLPrllxs = []\n\t  const prllxs = container.querySelectorAll('*[data-prllx]');\n\t  prllxs.forEach((item) => {\n\n\t\t    let prllxTL = new TimelineMax({ paused: true});\n        TweenMax.set(item, { y: -1 * item.getAttribute('data-prllx') });\n  \t    prllxTL.to(item, 1, { y:item.getAttribute('data-prllx'), overwrite:\"all\", ease:Power0.easeNone });\n\t\t    TLPrllxs.push(prllxTL);\n\n\t  });\n\n\t  var prllxRender = function (){\n\n\t    prllxs.forEach((item, index) => {\n        let from = item.getBoundingClientRect().top + this.sy - window.innerHeight ;\n\t      let norm = utils.clamp(utils.normalize(sy,  from ,  item.getBoundingClientRect().top + this.sy + item.offsetHeight), 0, 1);\n\t\t    TLPrllxs[index].progress(norm);\n\t    });\n\n\t  }\n\n\t  TweenMax.ticker.addEventListener(\"tick\", prllxRender, this, true, 1);\n\n  }\n\n  initInView(container) {\n\n\n    //fadeIn\n    const fadeInElems = container.querySelectorAll('.fadeInView');\n\n    if (fadeInElems) {\n      fadeInElems.forEach((elem) => {\n        elem.fadeInTL = new TimelineMax({ paused: true});\n        elem.fadeInTL.from(elem, 1, {y:80, opacity:0, ease:Power3.easeOut}, 0);\n      })\n\n      inView(\"main .fadeInView\").on('enter', el => {\n        if(!el.done)  el.fadeInTL.duration(animationDuration).play();\n      }).on('exit', el => {\n        el.done = true;\n        //el.fadeInTL.duration(0.2).reverse();\n      });\n\n    }\n\n    //letterIn\n    const lettersInElems = container.querySelectorAll('.lettersInView');\n    if (lettersInElems) {\n\n      lettersInElems.forEach((elem) => {\n        elem.splitLetters = new SplitText(elem, {type:\"chars\"});\n        elem.lettersInTL = new TimelineMax({ paused: true});\n        elem.lettersInTL.staggerFrom(elem.splitLetters.chars, 1, {y:20, opacity:0, ease:Power3.easeOut}, 0.015, 0);\n      })\n\n      inView(\"main .lettersInView\").on('enter', el => {\n        if(!el.done)  el.lettersInTL.duration(animationDuration).play();\n      }).on('exit', el => {\n        el.done = true;\n        el.innerHTML = el.splitLetters._originals;\n        //el.lettersInTL.duration(0.2).reverse();\n      });\n\n    }\n\n    //linesIn\n    const linesInElems = container.querySelectorAll('.linesInView');\n    if (linesInElems) {\n\n      linesInElems.forEach((elem) => {\n        elem.splitLines = new SplitText(elem, {type:\"lines\"});\n        elem.linesInTL = new TimelineMax({ paused: true});\n        elem.linesInTL.staggerFrom(elem.splitLines.lines, 1, {y:20, opacity:0, ease:Power3.easeOut}, 0.05, 0.2);\n      })\n\n      inView(\"main .linesInView\").on('enter', el => {\n        if(!el.done)  el.linesInTL.duration(animationDuration * 1.5).play();\n      }).on('exit', el => {\n        el.done = true;\n        el.innerHTML = el.splitLines._originals;\n        //el.linesInTL.duration(0.2).reverse();\n      });\n\n    }\n\n    inView.offset({\n        top: -120,\n        left:-50,\n        right:-50,\n        bottom: 0,\n    });\n\n  }\n\n  intro() {\n\n    const intro = new TimelineMax({ paused:true, onStart:()=>{\n      this.DOM.body.classList.remove('is-loading');\n    }})\n\n    intro.from(this.DOM.body, 1.2, {opacity:0, ease:Power3.easeOut}, 0.3)\n    intro.play();\n\n  }\n\n}\n\nconst app = new App();\n"],"names":["normalize","value","min","max","clamp","initHome","Barba","BaseView","extend","log","init","initPage","window","NodeList","prototype","forEach","callback","thisArg","i","this","length","call","FastClick","layer","options","oldOnClick","trackingClick","trackingClickStart","targetElement","touchStartX","touchStartY","lastTouchIdentifier","touchBoundary","tapDelay","tapTimeout","notNeeded","methods","context","l","method","apply","arguments","bind","deviceIsAndroid","addEventListener","onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","Event","stopImmediatePropagation","removeEventListener","type","capture","rmv","Node","hijacked","adv","event","propagationStopped","onclick","deviceIsWindowsPhone","navigator","userAgent","indexOf","deviceIsIOS","test","deviceIsIOS4","deviceIsIOSWithBadTarget","deviceIsBlackBerry10","needsClick","target","nodeName","toLowerCase","disabled","className","needsFocus","readOnly","sendClick","clickEvent","touch","document","activeElement","blur","changedTouches","createEvent","initMouseEvent","determineEventType","screenX","screenY","clientX","clientY","forwardedTouchEvent","dispatchEvent","tagName","focus","setSelectionRange","updateScrollParent","scrollParent","parentElement","fastClickScrollParent","contains","scrollHeight","offsetHeight","fastClickLastScrollTop","scrollTop","getTargetElementFromEventTarget","eventTarget","nodeType","TEXT_NODE","parentNode","selection","targetTouches","getSelection","rangeCount","isCollapsed","identifier","preventDefault","timeStamp","pageX","pageY","lastClickTime","touchHasMoved","boundary","Math","abs","findControl","labelElement","undefined","control","htmlFor","getElementById","querySelector","forElement","targetTagName","cancelNextClick","elementFromPoint","pageXOffset","pageYOffset","top","cancelable","stopPropagation","permitted","detail","destroy","metaViewport","chromeVersion","blackberryVersion","ontouchstart","exec","content","documentElement","scrollWidth","outerWidth","match","style","msTouchAction","touchAction","attach","module","exports","Header","el","DOM","body","brand","toggle","menuContainer","menuOpen","menuOpenTL","TimelineMax","paused","e","classList","_this","overflow","visibility","totalDuration","restart","reverse","querySelectorAll","elem","remove","currentTarget","add","sy","devMode","footer","barbaWrapper","scrollTo","console","addEvents","intro","Sniff","scrollRestoration","Dispatcher","on","currentStatus","oldStatus","container","features","mobile","initPrllx","initInView","HTMLElement","MouseEvent","ga","location","pathname","pageTransition","BaseTransition","all","newContainerLoading","transitionOut","then","transitionIn","deferred","Utils","oldContainer","pageOut","onComplete","resolve","to","opacity","ease","Power3","easeOut","play","promise","display","newContainer","pageIn","done","from","Pjax","getTransition","start","TLPrllxs","prllxs","item","prllxTL","set","y","getAttribute","overwrite","Power0","easeNone","push","ticker","index","getBoundingClientRect","_this4","innerHeight","norm","utils","progress","fadeInElems","fadeInTL","duration","animationDuration","lettersInElems","splitLetters","SplitText","lettersInTL","staggerFrom","chars","innerHTML","_originals","linesInElems","splitLines","linesInTL","lines","offset","onStart"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZW8vd3d3L3N0YXJ0ZXItdGhlbWUtdGltYmVyL2Fzc2V0cy9qcy91dGlscy5qcyIsIi9Vc2Vycy9sZW8vd3d3L3N0YXJ0ZXItdGhlbWUtdGltYmVyL2Fzc2V0cy9qcy9wYWdlcy9ob21lLmpzIiwiL1VzZXJzL2xlby93d3cvc3RhcnRlci10aGVtZS10aW1iZXIvYXNzZXRzL2pzL3BhZ2VzL3BhZ2UuanMiLCIvVXNlcnMvbGVvL3d3dy9ub2RlX21vZHVsZXMvbm9kZWxpc3QtZm9yZWFjaC1wb2x5ZmlsbC9pbmRleC5qcyIsIi9Vc2Vycy9sZW8vd3d3L25vZGVfbW9kdWxlcy9mYXN0Y2xpY2svbGliL2Zhc3RjbGljay5qcyIsIi9Vc2Vycy9sZW8vd3d3L3N0YXJ0ZXItdGhlbWUtdGltYmVyL2Fzc2V0cy9qcy9tb2R1bGVzL2hlYWRlci5qcyIsIi9Vc2Vycy9sZW8vd3d3L3N0YXJ0ZXItdGhlbWUtdGltYmVyL2Fzc2V0cy9qcy9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIG9uTG9hZGVkTWV0YWRhdGEoZSkge1xuXG4gIGNvbnN0IHZpZGVvID0gJChlLnRhcmdldCk7XG4gIGxldCBhc3BlY3RSYXRpbyA9IHZpZGVvLmRhdGEoJ2FzcGVjdFJhdGlvJyk7XG4gIGlmIChhc3BlY3RSYXRpbyA9PSB1bmRlZmluZWQpIHtcbiAgICAgIGFzcGVjdFJhdGlvID0gdmlkZW8ud2lkdGgoKSAvIHZpZGVvLmhlaWdodCgpO1xuICAgICAgdmlkZW8uZGF0YSgnYXNwZWN0UmF0aW8nLCBhc3BlY3RSYXRpbyk7XG4gIH1cbiAgcmVzaXplVmlkZW8odmlkZW8pO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNpemVWaWRlbyh2aWRlbykge1xuXG4gIGxldCBuZXdXaWR0aDtcbiAgbGV0IG5ld0hlaWdodDtcbiAgbGV0IHZpZGVvUmF0aW8gPSB2aWRlby5kYXRhKCdhc3BlY3RSYXRpbycpO1xuICBpZiAodmlkZW9SYXRpbyA9PSB1bmRlZmluZWQpIHZpZGVvUmF0aW8gPSAxLjc3Nzc3Nzc7XG4gIGxldCBwYXJlbnRXaWR0aCAgPSB2aWRlby5wYXJlbnQoKS53aWR0aCgpO1xuICBsZXQgcGFyZW50SGVpZ2h0ID0gdmlkZW8ucGFyZW50KCkuaGVpZ2h0KCk7XG4gIGxldCBwYXJlbnRSYXRpbyA9IHBhcmVudFdpZHRoIC8gcGFyZW50SGVpZ2h0O1xuXG4gIGlmIChwYXJlbnRSYXRpbyA+IHZpZGVvUmF0aW8gJiYgIXZpZGVvLmhhc0NsYXNzKCdiZ1dpZHRoJykpIHtcbiAgICB2aWRlby5yZW1vdmVDbGFzcyhcImJnSGVpZ2h0XCIpO1xuICAgIHZpZGVvLmFkZENsYXNzKFwiYmdXaWR0aFwiKTtcbiAgfVxuICBpZiAocGFyZW50UmF0aW8gPD0gdmlkZW9SYXRpbyAmJiAhdmlkZW8uaGFzQ2xhc3MoJ2JnSGVpZ2h0JykpIHtcbiAgICB2aWRlby5yZW1vdmVDbGFzcyhcImJnV2lkdGhcIik7XG4gICAgdmlkZW8uYWRkQ2xhc3MoXCJiZ0hlaWdodFwiKTtcbiAgfVxuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxheShtcyl7XG4gICAgdmFyIGN0ciwgcmVqLCBwID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBjdHIgPSBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcbiAgICAgICAgcmVqID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIHAuY2FuY2VsID0gZnVuY3Rpb24oKXsgY2xlYXJUaW1lb3V0KGN0cik7IHJlaihFcnJvcihcIkNhbmNlbGxlZFwiKSl9O1xuICAgIHJldHVybiBwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50KG1pbixtYXgpwqB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobWF4LW1pbisxKSttaW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlLCBtaW4sIG1heCkge1xuICByZXR1cm4gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gIHJldHVybiB2YWx1ZSA8IG1pbiA/IG1pbiA6ICh2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNpbXVsYXRlQ2xpY2soZWxlbSkge1xuXG4gICAgdmFyIGV2dCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgdmlldzogd2luZG93XG4gICAgfSk7XG5cbiAgICB2YXIgY2FuY2VsZWQgPSAhZWxlbS5kaXNwYXRjaEV2ZW50KGV2dCk7XG5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZU1vdmVmbihlKSB7XG5cbiAgbGV0IHhNb3VzZSA9IGUucGFnZVggLSBlLmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtICggZS5jdXJyZW50VGFyZ2V0Lm9mZnNldFdpZHRoIC8gMiApO1xuICBsZXQgeU1vdXNlID0gZS5wYWdlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCAtIGUuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSAoIGUuY3VycmVudFRhcmdldC5vZmZzZXRIZWlnaHQgLyAyICk7XG4gIGNvbnN0IG1vdXNlRWxlbWVudHMgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvckFsbCgnKltkYXRhLW1vdXNlLXBhcmFsbGF4XScpO1xuICBtb3VzZUVsZW1lbnRzLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdmFyIGZhY3RvciA9IGVsZW0uZ2V0QXR0cmlidXRlKCdkYXRhLW1vdXNlLXBhcmFsbGF4Jyk7XG4gICAgbGV0IHhGaW5hbCA9IHhNb3VzZSAqIGZhY3RvcjtcbiAgICBsZXQgeUZpbmFsID0geU1vdXNlICogZmFjdG9yO1xuICAgIFR3ZWVuTWF4LnRvKGVsZW0sIDEuMiwge3g6eEZpbmFsLCB5OnlGaW5hbH0pO1xuICB9KTtcblxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGluaXRIb21lKCkge1xuXG5cdHZhciBIb21lID0gQmFyYmEuQmFzZVZpZXcuZXh0ZW5kKHtcblxuXHRcdG5hbWVzcGFjZTogJ3BhZ2UtaG9tZScsXG5cblx0XHRvbkVudGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coJ0luaXQgSG9tZScpO1xuXG5cdFx0fSxcblxuXHRcdG9uTGVhdmVDb21wbGV0ZWQ6IGZ1bmN0aW9uKCkge1xuXG5cblxuXHRcdH1cblxuXHR9KVxuXG5cdEhvbWUuaW5pdCgpO1xuXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XG5cblx0dmFyIFBhZ2UgPSBCYXJiYS5CYXNlVmlldy5leHRlbmQoe1xuXG5cdFx0bmFtZXNwYWNlOiAncGFnZScsXG5cblx0XHRvbkVudGVyOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coJ0luaXQgUGFnZScpO1xuXG5cdFx0fSxcblxuXHRcdG9uTGVhdmVDb21wbGV0ZWQ6IGZ1bmN0aW9uKCkge1xuXG5cblxuXHRcdH1cblxuXHR9KVxuXG5cdFBhZ2UuaW5pdCgpO1xuXG59XG4iLCJpZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gICAgTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcclxuICAgICAgICB0aGlzQXJnID0gdGhpc0FyZyB8fCB3aW5kb3c7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpc1tpXSwgaSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG4iLCI7KGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdC8qKlxuXHQgKiBAcHJlc2VydmUgRmFzdENsaWNrOiBwb2x5ZmlsbCB0byByZW1vdmUgY2xpY2sgZGVsYXlzIG9uIGJyb3dzZXJzIHdpdGggdG91Y2ggVUlzLlxuXHQgKlxuXHQgKiBAY29kaW5nc3RhbmRhcmQgZnRsYWJzLWpzdjJcblx0ICogQGNvcHlyaWdodCBUaGUgRmluYW5jaWFsIFRpbWVzIExpbWl0ZWQgW0FsbCBSaWdodHMgUmVzZXJ2ZWRdXG5cdCAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlIChzZWUgTElDRU5TRS50eHQpXG5cdCAqL1xuXG5cdC8qanNsaW50IGJyb3dzZXI6dHJ1ZSwgbm9kZTp0cnVlKi9cblx0LypnbG9iYWwgZGVmaW5lLCBFdmVudCwgTm9kZSovXG5cblxuXHQvKipcblx0ICogSW5zdGFudGlhdGUgZmFzdC1jbGlja2luZyBsaXN0ZW5lcnMgb24gdGhlIHNwZWNpZmllZCBsYXllci5cblx0ICpcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBwYXJhbSB7RWxlbWVudH0gbGF5ZXIgVGhlIGxheWVyIHRvIGxpc3RlbiBvblxuXHQgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0c1xuXHQgKi9cblx0ZnVuY3Rpb24gRmFzdENsaWNrKGxheWVyLCBvcHRpb25zKSB7XG5cdFx0dmFyIG9sZE9uQ2xpY2s7XG5cblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdC8qKlxuXHRcdCAqIFdoZXRoZXIgYSBjbGljayBpcyBjdXJyZW50bHkgYmVpbmcgdHJhY2tlZC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIGJvb2xlYW5cblx0XHQgKi9cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblxuXG5cdFx0LyoqXG5cdFx0ICogVGltZXN0YW1wIGZvciB3aGVuIGNsaWNrIHRyYWNraW5nIHN0YXJ0ZWQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBlbGVtZW50IGJlaW5nIHRyYWNrZWQgZm9yIGEgY2xpY2suXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBFdmVudFRhcmdldFxuXHRcdCAqL1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cblxuXHRcdC8qKlxuXHRcdCAqIFgtY29vcmRpbmF0ZSBvZiB0b3VjaCBzdGFydCBldmVudC5cblx0XHQgKlxuXHRcdCAqIEB0eXBlIG51bWJlclxuXHRcdCAqL1xuXHRcdHRoaXMudG91Y2hTdGFydFggPSAwO1xuXG5cblx0XHQvKipcblx0XHQgKiBZLWNvb3JkaW5hdGUgb2YgdG91Y2ggc3RhcnQgZXZlbnQuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLnRvdWNoU3RhcnRZID0gMDtcblxuXG5cdFx0LyoqXG5cdFx0ICogSUQgb2YgdGhlIGxhc3QgdG91Y2gsIHJldHJpZXZlZCBmcm9tIFRvdWNoLmlkZW50aWZpZXIuXG5cdFx0ICpcblx0XHQgKiBAdHlwZSBudW1iZXJcblx0XHQgKi9cblx0XHR0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIgPSAwO1xuXG5cblx0XHQvKipcblx0XHQgKiBUb3VjaG1vdmUgYm91bmRhcnksIGJleW9uZCB3aGljaCBhIGNsaWNrIHdpbGwgYmUgY2FuY2VsbGVkLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUgbnVtYmVyXG5cdFx0ICovXG5cdFx0dGhpcy50b3VjaEJvdW5kYXJ5ID0gb3B0aW9ucy50b3VjaEJvdW5kYXJ5IHx8IDEwO1xuXG5cblx0XHQvKipcblx0XHQgKiBUaGUgRmFzdENsaWNrIGxheWVyLlxuXHRcdCAqXG5cdFx0ICogQHR5cGUgRWxlbWVudFxuXHRcdCAqL1xuXHRcdHRoaXMubGF5ZXIgPSBsYXllcjtcblxuXHRcdC8qKlxuXHRcdCAqIFRoZSBtaW5pbXVtIHRpbWUgYmV0d2VlbiB0YXAodG91Y2hzdGFydCBhbmQgdG91Y2hlbmQpIGV2ZW50c1xuXHRcdCAqXG5cdFx0ICogQHR5cGUgbnVtYmVyXG5cdFx0ICovXG5cdFx0dGhpcy50YXBEZWxheSA9IG9wdGlvbnMudGFwRGVsYXkgfHwgMjAwO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG1heGltdW0gdGltZSBmb3IgYSB0YXBcblx0XHQgKlxuXHRcdCAqIEB0eXBlIG51bWJlclxuXHRcdCAqL1xuXHRcdHRoaXMudGFwVGltZW91dCA9IG9wdGlvbnMudGFwVGltZW91dCB8fCA3MDA7XG5cblx0XHRpZiAoRmFzdENsaWNrLm5vdE5lZWRlZChsYXllcikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBTb21lIG9sZCB2ZXJzaW9ucyBvZiBBbmRyb2lkIGRvbid0IGhhdmUgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcblx0XHRmdW5jdGlvbiBiaW5kKG1ldGhvZCwgY29udGV4dCkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gbWV0aG9kLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7IH07XG5cdFx0fVxuXG5cblx0XHR2YXIgbWV0aG9kcyA9IFsnb25Nb3VzZScsICdvbkNsaWNrJywgJ29uVG91Y2hTdGFydCcsICdvblRvdWNoTW92ZScsICdvblRvdWNoRW5kJywgJ29uVG91Y2hDYW5jZWwnXTtcblx0XHR2YXIgY29udGV4dCA9IHRoaXM7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBtZXRob2RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0Y29udGV4dFttZXRob2RzW2ldXSA9IGJpbmQoY29udGV4dFttZXRob2RzW2ldXSwgY29udGV4dCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzIGFzIHJlcXVpcmVkXG5cdFx0aWYgKGRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlLCB0cnVlKTtcblx0XHR9XG5cblx0XHRsYXllci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljaywgdHJ1ZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZSwgZmFsc2UpO1xuXHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoRW5kLCBmYWxzZSk7XG5cdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLm9uVG91Y2hDYW5jZWwsIGZhbHNlKTtcblxuXHRcdC8vIEhhY2sgaXMgcmVxdWlyZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBFdmVudCNzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gKGUuZy4gQW5kcm9pZCAyKVxuXHRcdC8vIHdoaWNoIGlzIGhvdyBGYXN0Q2xpY2sgbm9ybWFsbHkgc3RvcHMgY2xpY2sgZXZlbnRzIGJ1YmJsaW5nIHRvIGNhbGxiYWNrcyByZWdpc3RlcmVkIG9uIHRoZSBGYXN0Q2xpY2tcblx0XHQvLyBsYXllciB3aGVuIHRoZXkgYXJlIGNhbmNlbGxlZC5cblx0XHRpZiAoIUV2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pIHtcblx0XHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0XHR2YXIgcm12ID0gTm9kZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycpIHtcblx0XHRcdFx0XHRybXYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgY2FsbGJhY2ssIGNhcHR1cmUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJtdi5jYWxsKGxheWVyLCB0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGxheWVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBjYWxsYmFjaywgY2FwdHVyZSkge1xuXHRcdFx0XHR2YXIgYWR2ID0gTm9kZS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcjtcblx0XHRcdFx0aWYgKHR5cGUgPT09ICdjbGljaycpIHtcblx0XHRcdFx0XHRhZHYuY2FsbChsYXllciwgdHlwZSwgY2FsbGJhY2suaGlqYWNrZWQgfHwgKGNhbGxiYWNrLmhpamFja2VkID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0XHRcdGlmICghZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGV2ZW50KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KSwgY2FwdHVyZSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWR2LmNhbGwobGF5ZXIsIHR5cGUsIGNhbGxiYWNrLCBjYXB0dXJlKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBJZiBhIGhhbmRsZXIgaXMgYWxyZWFkeSBkZWNsYXJlZCBpbiB0aGUgZWxlbWVudCdzIG9uY2xpY2sgYXR0cmlidXRlLCBpdCB3aWxsIGJlIGZpcmVkIGJlZm9yZVxuXHRcdC8vIEZhc3RDbGljaydzIG9uQ2xpY2sgaGFuZGxlci4gRml4IHRoaXMgYnkgcHVsbGluZyBvdXQgdGhlIHVzZXItZGVmaW5lZCBoYW5kbGVyIGZ1bmN0aW9uIGFuZFxuXHRcdC8vIGFkZGluZyBpdCBhcyBsaXN0ZW5lci5cblx0XHRpZiAodHlwZW9mIGxheWVyLm9uY2xpY2sgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdFx0Ly8gQW5kcm9pZCBicm93c2VyIG9uIGF0IGxlYXN0IDMuMiByZXF1aXJlcyBhIG5ldyByZWZlcmVuY2UgdG8gdGhlIGZ1bmN0aW9uIGluIGxheWVyLm9uY2xpY2tcblx0XHRcdC8vIC0gdGhlIG9sZCBvbmUgd29uJ3Qgd29yayBpZiBwYXNzZWQgdG8gYWRkRXZlbnRMaXN0ZW5lciBkaXJlY3RseS5cblx0XHRcdG9sZE9uQ2xpY2sgPSBsYXllci5vbmNsaWNrO1xuXHRcdFx0bGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuXHRcdFx0XHRvbGRPbkNsaWNrKGV2ZW50KTtcblx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdGxheWVyLm9uY2xpY2sgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQqIFdpbmRvd3MgUGhvbmUgOC4xIGZha2VzIHVzZXIgYWdlbnQgc3RyaW5nIHRvIGxvb2sgbGlrZSBBbmRyb2lkIGFuZCBpUGhvbmUuXG5cdCpcblx0KiBAdHlwZSBib29sZWFuXG5cdCovXG5cdHZhciBkZXZpY2VJc1dpbmRvd3NQaG9uZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIldpbmRvd3MgUGhvbmVcIikgPj0gMDtcblxuXHQvKipcblx0ICogQW5kcm9pZCByZXF1aXJlcyBleGNlcHRpb25zLlxuXHQgKlxuXHQgKiBAdHlwZSBib29sZWFuXG5cdCAqL1xuXHR2YXIgZGV2aWNlSXNBbmRyb2lkID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykgPiAwICYmICFkZXZpY2VJc1dpbmRvd3NQaG9uZTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgcmVxdWlyZXMgZXhjZXB0aW9ucy5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dmFyIGRldmljZUlzSU9TID0gL2lQKGFkfGhvbmV8b2QpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICFkZXZpY2VJc1dpbmRvd3NQaG9uZTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgNCByZXF1aXJlcyBhbiBleGNlcHRpb24gZm9yIHNlbGVjdCBlbGVtZW50cy5cblx0ICpcblx0ICogQHR5cGUgYm9vbGVhblxuXHQgKi9cblx0dmFyIGRldmljZUlzSU9TNCA9IGRldmljZUlzSU9TICYmICgvT1MgNF9cXGQoX1xcZCk/LykudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcblxuXG5cdC8qKlxuXHQgKiBpT1MgNi4wLTcuKiByZXF1aXJlcyB0aGUgdGFyZ2V0IGVsZW1lbnQgdG8gYmUgbWFudWFsbHkgZGVyaXZlZFxuXHQgKlxuXHQgKiBAdHlwZSBib29sZWFuXG5cdCAqL1xuXHR2YXIgZGV2aWNlSXNJT1NXaXRoQmFkVGFyZ2V0ID0gZGV2aWNlSXNJT1MgJiYgKC9PUyBbNi03XV9cXGQvKS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG5cdC8qKlxuXHQgKiBCbGFja0JlcnJ5IHJlcXVpcmVzIGV4Y2VwdGlvbnMuXG5cdCAqXG5cdCAqIEB0eXBlIGJvb2xlYW5cblx0ICovXG5cdHZhciBkZXZpY2VJc0JsYWNrQmVycnkxMCA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQkIxMCcpID4gMDtcblxuXHQvKipcblx0ICogRGV0ZXJtaW5lIHdoZXRoZXIgYSBnaXZlbiBlbGVtZW50IHJlcXVpcmVzIGEgbmF0aXZlIGNsaWNrLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCBuZWVkcyBhIG5hdGl2ZSBjbGlja1xuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0NsaWNrID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXG5cdFx0Ly8gRG9uJ3Qgc2VuZCBhIHN5bnRoZXRpYyBjbGljayB0byBkaXNhYmxlZCBpbnB1dHMgKGlzc3VlICM2Milcblx0XHRjYXNlICdidXR0b24nOlxuXHRcdGNhc2UgJ3NlbGVjdCc6XG5cdFx0Y2FzZSAndGV4dGFyZWEnOlxuXHRcdFx0aWYgKHRhcmdldC5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaW5wdXQnOlxuXG5cdFx0XHQvLyBGaWxlIGlucHV0cyBuZWVkIHJlYWwgY2xpY2tzIG9uIGlPUyA2IGR1ZSB0byBhIGJyb3dzZXIgYnVnIChpc3N1ZSAjNjgpXG5cdFx0XHRpZiAoKGRldmljZUlzSU9TICYmIHRhcmdldC50eXBlID09PSAnZmlsZScpIHx8IHRhcmdldC5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnbGFiZWwnOlxuXHRcdGNhc2UgJ2lmcmFtZSc6IC8vIGlPUzggaG9tZXNjcmVlbiBhcHBzIGNhbiBwcmV2ZW50IGV2ZW50cyBidWJibGluZyBpbnRvIGZyYW1lc1xuXHRcdGNhc2UgJ3ZpZGVvJzpcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiAoL1xcYm5lZWRzY2xpY2tcXGIvKS50ZXN0KHRhcmdldC5jbGFzc05hbWUpO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIERldGVybWluZSB3aGV0aGVyIGEgZ2l2ZW4gZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgY2xpY2sgaW50byBlbGVtZW50LlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fEVsZW1lbnR9IHRhcmdldCBUYXJnZXQgRE9NIGVsZW1lbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCByZXF1aXJlcyBhIGNhbGwgdG8gZm9jdXMgdG8gc2ltdWxhdGUgbmF0aXZlIGNsaWNrLlxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5uZWVkc0ZvY3VzID0gZnVuY3Rpb24odGFyZ2V0KSB7XG5cdFx0c3dpdGNoICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkge1xuXHRcdGNhc2UgJ3RleHRhcmVhJzpcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGNhc2UgJ3NlbGVjdCc6XG5cdFx0XHRyZXR1cm4gIWRldmljZUlzQW5kcm9pZDtcblx0XHRjYXNlICdpbnB1dCc6XG5cdFx0XHRzd2l0Y2ggKHRhcmdldC50eXBlKSB7XG5cdFx0XHRjYXNlICdidXR0b24nOlxuXHRcdFx0Y2FzZSAnY2hlY2tib3gnOlxuXHRcdFx0Y2FzZSAnZmlsZSc6XG5cdFx0XHRjYXNlICdpbWFnZSc6XG5cdFx0XHRjYXNlICdyYWRpbyc6XG5cdFx0XHRjYXNlICdzdWJtaXQnOlxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5vIHBvaW50IGluIGF0dGVtcHRpbmcgdG8gZm9jdXMgZGlzYWJsZWQgaW5wdXRzXG5cdFx0XHRyZXR1cm4gIXRhcmdldC5kaXNhYmxlZCAmJiAhdGFyZ2V0LnJlYWRPbmx5O1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gKC9cXGJuZWVkc2ZvY3VzXFxiLykudGVzdCh0YXJnZXQuY2xhc3NOYW1lKTtcblx0XHR9XG5cdH07XG5cblxuXHQvKipcblx0ICogU2VuZCBhIGNsaWNrIGV2ZW50IHRvIHRoZSBzcGVjaWZpZWQgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldHxFbGVtZW50fSB0YXJnZXRFbGVtZW50XG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLnNlbmRDbGljayA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQsIGV2ZW50KSB7XG5cdFx0dmFyIGNsaWNrRXZlbnQsIHRvdWNoO1xuXG5cdFx0Ly8gT24gc29tZSBBbmRyb2lkIGRldmljZXMgYWN0aXZlRWxlbWVudCBuZWVkcyB0byBiZSBibHVycmVkIG90aGVyd2lzZSB0aGUgc3ludGhldGljIGNsaWNrIHdpbGwgaGF2ZSBubyBlZmZlY3QgKCMyNClcblx0XHRpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSB0YXJnZXRFbGVtZW50KSB7XG5cdFx0XHRkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcblx0XHR9XG5cblx0XHR0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xuXG5cdFx0Ly8gU3ludGhlc2lzZSBhIGNsaWNrIGV2ZW50LCB3aXRoIGFuIGV4dHJhIGF0dHJpYnV0ZSBzbyBpdCBjYW4gYmUgdHJhY2tlZFxuXHRcdGNsaWNrRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcblx0XHRjbGlja0V2ZW50LmluaXRNb3VzZUV2ZW50KHRoaXMuZGV0ZXJtaW5lRXZlbnRUeXBlKHRhcmdldEVsZW1lbnQpLCB0cnVlLCB0cnVlLCB3aW5kb3csIDEsIHRvdWNoLnNjcmVlblgsIHRvdWNoLnNjcmVlblksIHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFksIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCAwLCBudWxsKTtcblx0XHRjbGlja0V2ZW50LmZvcndhcmRlZFRvdWNoRXZlbnQgPSB0cnVlO1xuXHRcdHRhcmdldEVsZW1lbnQuZGlzcGF0Y2hFdmVudChjbGlja0V2ZW50KTtcblx0fTtcblxuXHRGYXN0Q2xpY2sucHJvdG90eXBlLmRldGVybWluZUV2ZW50VHlwZSA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblxuXHRcdC8vSXNzdWUgIzE1OTogQW5kcm9pZCBDaHJvbWUgU2VsZWN0IEJveCBkb2VzIG5vdCBvcGVuIHdpdGggYSBzeW50aGV0aWMgY2xpY2sgZXZlbnRcblx0XHRpZiAoZGV2aWNlSXNBbmRyb2lkICYmIHRhcmdldEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc2VsZWN0Jykge1xuXHRcdFx0cmV0dXJuICdtb3VzZWRvd24nO1xuXHRcdH1cblxuXHRcdHJldHVybiAnY2xpY2snO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uKHRhcmdldEVsZW1lbnQpIHtcblx0XHR2YXIgbGVuZ3RoO1xuXG5cdFx0Ly8gSXNzdWUgIzE2MDogb24gaU9TIDcsIHNvbWUgaW5wdXQgZWxlbWVudHMgKGUuZy4gZGF0ZSBkYXRldGltZSBtb250aCkgdGhyb3cgYSB2YWd1ZSBUeXBlRXJyb3Igb24gc2V0U2VsZWN0aW9uUmFuZ2UuIFRoZXNlIGVsZW1lbnRzIGRvbid0IGhhdmUgYW4gaW50ZWdlciB2YWx1ZSBmb3IgdGhlIHNlbGVjdGlvblN0YXJ0IGFuZCBzZWxlY3Rpb25FbmQgcHJvcGVydGllcywgYnV0IHVuZm9ydHVuYXRlbHkgdGhhdCBjYW4ndCBiZSB1c2VkIGZvciBkZXRlY3Rpb24gYmVjYXVzZSBhY2Nlc3NpbmcgdGhlIHByb3BlcnRpZXMgYWxzbyB0aHJvd3MgYSBUeXBlRXJyb3IuIEp1c3QgY2hlY2sgdGhlIHR5cGUgaW5zdGVhZC4gRmlsZWQgYXMgQXBwbGUgYnVnICMxNTEyMjcyNC5cblx0XHRpZiAoZGV2aWNlSXNJT1MgJiYgdGFyZ2V0RWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSAmJiB0YXJnZXRFbGVtZW50LnR5cGUuaW5kZXhPZignZGF0ZScpICE9PSAwICYmIHRhcmdldEVsZW1lbnQudHlwZSAhPT0gJ3RpbWUnICYmIHRhcmdldEVsZW1lbnQudHlwZSAhPT0gJ21vbnRoJykge1xuXHRcdFx0bGVuZ3RoID0gdGFyZ2V0RWxlbWVudC52YWx1ZS5sZW5ndGg7XG5cdFx0XHR0YXJnZXRFbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKGxlbmd0aCwgbGVuZ3RoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0RWxlbWVudC5mb2N1cygpO1xuXHRcdH1cblx0fTtcblxuXG5cdC8qKlxuXHQgKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiB0YXJnZXQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIGEgc2Nyb2xsYWJsZSBsYXllciBhbmQgaWYgc28sIHNldCBhIGZsYWcgb24gaXQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR8RWxlbWVudH0gdGFyZ2V0RWxlbWVudFxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS51cGRhdGVTY3JvbGxQYXJlbnQgPSBmdW5jdGlvbih0YXJnZXRFbGVtZW50KSB7XG5cdFx0dmFyIHNjcm9sbFBhcmVudCwgcGFyZW50RWxlbWVudDtcblxuXHRcdHNjcm9sbFBhcmVudCA9IHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50O1xuXG5cdFx0Ly8gQXR0ZW1wdCB0byBkaXNjb3ZlciB3aGV0aGVyIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBjb250YWluZWQgd2l0aGluIGEgc2Nyb2xsYWJsZSBsYXllci4gUmUtY2hlY2sgaWYgdGhlXG5cdFx0Ly8gdGFyZ2V0IGVsZW1lbnQgd2FzIG1vdmVkIHRvIGFub3RoZXIgcGFyZW50LlxuXHRcdGlmICghc2Nyb2xsUGFyZW50IHx8ICFzY3JvbGxQYXJlbnQuY29udGFpbnModGFyZ2V0RWxlbWVudCkpIHtcblx0XHRcdHBhcmVudEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50O1xuXHRcdFx0ZG8ge1xuXHRcdFx0XHRpZiAocGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnRFbGVtZW50Lm9mZnNldEhlaWdodCkge1xuXHRcdFx0XHRcdHNjcm9sbFBhcmVudCA9IHBhcmVudEVsZW1lbnQ7XG5cdFx0XHRcdFx0dGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQgPSBwYXJlbnRFbGVtZW50O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcblx0XHRcdH0gd2hpbGUgKHBhcmVudEVsZW1lbnQpO1xuXHRcdH1cblxuXHRcdC8vIEFsd2F5cyB1cGRhdGUgdGhlIHNjcm9sbCB0b3AgdHJhY2tlciBpZiBwb3NzaWJsZS5cblx0XHRpZiAoc2Nyb2xsUGFyZW50KSB7XG5cdFx0XHRzY3JvbGxQYXJlbnQuZmFzdENsaWNrTGFzdFNjcm9sbFRvcCA9IHNjcm9sbFBhcmVudC5zY3JvbGxUb3A7XG5cdFx0fVxuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldEVsZW1lbnRcblx0ICogQHJldHVybnMge0VsZW1lbnR8RXZlbnRUYXJnZXR9XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQgPSBmdW5jdGlvbihldmVudFRhcmdldCkge1xuXG5cdFx0Ly8gT24gc29tZSBvbGRlciBicm93c2VycyAobm90YWJseSBTYWZhcmkgb24gaU9TIDQuMSAtIHNlZSBpc3N1ZSAjNTYpIHRoZSBldmVudCB0YXJnZXQgbWF5IGJlIGEgdGV4dCBub2RlLlxuXHRcdGlmIChldmVudFRhcmdldC5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcblx0XHRcdHJldHVybiBldmVudFRhcmdldC5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBldmVudFRhcmdldDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBPbiB0b3VjaCBzdGFydCwgcmVjb3JkIHRoZSBwb3NpdGlvbiBhbmQgc2Nyb2xsIG9mZnNldC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hTdGFydCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRhcmdldEVsZW1lbnQsIHRvdWNoLCBzZWxlY3Rpb247XG5cblx0XHQvLyBJZ25vcmUgbXVsdGlwbGUgdG91Y2hlcywgb3RoZXJ3aXNlIHBpbmNoLXRvLXpvb20gaXMgcHJldmVudGVkIGlmIGJvdGggZmluZ2VycyBhcmUgb24gdGhlIEZhc3RDbGljayBlbGVtZW50IChpc3N1ZSAjMTExKS5cblx0XHRpZiAoZXZlbnQudGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0YXJnZXRFbGVtZW50ID0gdGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCk7XG5cdFx0dG91Y2ggPSBldmVudC50YXJnZXRUb3VjaGVzWzBdO1xuXG5cdFx0aWYgKGRldmljZUlzSU9TKSB7XG5cblx0XHRcdC8vIE9ubHkgdHJ1c3RlZCBldmVudHMgd2lsbCBkZXNlbGVjdCB0ZXh0IG9uIGlPUyAoaXNzdWUgIzQ5KVxuXHRcdFx0c2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuXHRcdFx0aWYgKHNlbGVjdGlvbi5yYW5nZUNvdW50ICYmICFzZWxlY3Rpb24uaXNDb2xsYXBzZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghZGV2aWNlSXNJT1M0KSB7XG5cblx0XHRcdFx0Ly8gV2VpcmQgdGhpbmdzIGhhcHBlbiBvbiBpT1Mgd2hlbiBhbiBhbGVydCBvciBjb25maXJtIGRpYWxvZyBpcyBvcGVuZWQgZnJvbSBhIGNsaWNrIGV2ZW50IGNhbGxiYWNrIChpc3N1ZSAjMjMpOlxuXHRcdFx0XHQvLyB3aGVuIHRoZSB1c2VyIG5leHQgdGFwcyBhbnl3aGVyZSBlbHNlIG9uIHRoZSBwYWdlLCBuZXcgdG91Y2hzdGFydCBhbmQgdG91Y2hlbmQgZXZlbnRzIGFyZSBkaXNwYXRjaGVkXG5cdFx0XHRcdC8vIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBhcyB0aGUgdG91Y2ggZXZlbnQgdGhhdCBwcmV2aW91c2x5IHRyaWdnZXJlZCB0aGUgY2xpY2sgdGhhdCB0cmlnZ2VyZWQgdGhlIGFsZXJ0LlxuXHRcdFx0XHQvLyBTYWRseSwgdGhlcmUgaXMgYW4gaXNzdWUgb24gaU9TIDQgdGhhdCBjYXVzZXMgc29tZSBub3JtYWwgdG91Y2ggZXZlbnRzIHRvIGhhdmUgdGhlIHNhbWUgaWRlbnRpZmllciBhcyBhblxuXHRcdFx0XHQvLyBpbW1lZGlhdGVseSBwcmVjZWVkaW5nIHRvdWNoIGV2ZW50IChpc3N1ZSAjNTIpLCBzbyB0aGlzIGZpeCBpcyB1bmF2YWlsYWJsZSBvbiB0aGF0IHBsYXRmb3JtLlxuXHRcdFx0XHQvLyBJc3N1ZSAxMjA6IHRvdWNoLmlkZW50aWZpZXIgaXMgMCB3aGVuIENocm9tZSBkZXYgdG9vbHMgJ0VtdWxhdGUgdG91Y2ggZXZlbnRzJyBpcyBzZXQgd2l0aCBhbiBpT1MgZGV2aWNlIFVBIHN0cmluZyxcblx0XHRcdFx0Ly8gd2hpY2ggY2F1c2VzIGFsbCB0b3VjaCBldmVudHMgdG8gYmUgaWdub3JlZC4gQXMgdGhpcyBibG9jayBvbmx5IGFwcGxpZXMgdG8gaU9TLCBhbmQgaU9TIGlkZW50aWZpZXJzIGFyZSBhbHdheXMgbG9uZyxcblx0XHRcdFx0Ly8gcmFuZG9tIGludGVnZXJzLCBpdCdzIHNhZmUgdG8gdG8gY29udGludWUgaWYgdGhlIGlkZW50aWZpZXIgaXMgMCBoZXJlLlxuXHRcdFx0XHRpZiAodG91Y2guaWRlbnRpZmllciAmJiB0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLmxhc3RUb3VjaElkZW50aWZpZXIpIHtcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMubGFzdFRvdWNoSWRlbnRpZmllciA9IHRvdWNoLmlkZW50aWZpZXI7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIHRhcmdldCBlbGVtZW50IGlzIGEgY2hpbGQgb2YgYSBzY3JvbGxhYmxlIGxheWVyICh1c2luZyAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2gpIGFuZDpcblx0XHRcdFx0Ly8gMSkgdGhlIHVzZXIgZG9lcyBhIGZsaW5nIHNjcm9sbCBvbiB0aGUgc2Nyb2xsYWJsZSBsYXllclxuXHRcdFx0XHQvLyAyKSB0aGUgdXNlciBzdG9wcyB0aGUgZmxpbmcgc2Nyb2xsIHdpdGggYW5vdGhlciB0YXBcblx0XHRcdFx0Ly8gdGhlbiB0aGUgZXZlbnQudGFyZ2V0IG9mIHRoZSBsYXN0ICd0b3VjaGVuZCcgZXZlbnQgd2lsbCBiZSB0aGUgZWxlbWVudCB0aGF0IHdhcyB1bmRlciB0aGUgdXNlcidzIGZpbmdlclxuXHRcdFx0XHQvLyB3aGVuIHRoZSBmbGluZyBzY3JvbGwgd2FzIHN0YXJ0ZWQsIGNhdXNpbmcgRmFzdENsaWNrIHRvIHNlbmQgYSBjbGljayBldmVudCB0byB0aGF0IGxheWVyIC0gdW5sZXNzIGEgY2hlY2tcblx0XHRcdFx0Ly8gaXMgbWFkZSB0byBlbnN1cmUgdGhhdCBhIHBhcmVudCBsYXllciB3YXMgbm90IHNjcm9sbGVkIGJlZm9yZSBzZW5kaW5nIGEgc3ludGhldGljIGNsaWNrIChpc3N1ZSAjNDIpLlxuXHRcdFx0XHR0aGlzLnVwZGF0ZVNjcm9sbFBhcmVudCh0YXJnZXRFbGVtZW50KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSB0cnVlO1xuXHRcdHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0ID0gZXZlbnQudGltZVN0YW1wO1xuXHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQ7XG5cblx0XHR0aGlzLnRvdWNoU3RhcnRYID0gdG91Y2gucGFnZVg7XG5cdFx0dGhpcy50b3VjaFN0YXJ0WSA9IHRvdWNoLnBhZ2VZO1xuXG5cdFx0Ly8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgKGlzc3VlICMzNilcblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcERlbGF5KSB7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIEJhc2VkIG9uIGEgdG91Y2htb3ZlIGV2ZW50IG9iamVjdCwgY2hlY2sgd2hldGhlciB0aGUgdG91Y2ggaGFzIG1vdmVkIHBhc3QgYSBib3VuZGFyeSBzaW5jZSBpdCBzdGFydGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn1cblx0ICovXG5cdEZhc3RDbGljay5wcm90b3R5cGUudG91Y2hIYXNNb3ZlZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0dmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0sIGJvdW5kYXJ5ID0gdGhpcy50b3VjaEJvdW5kYXJ5O1xuXG5cdFx0aWYgKE1hdGguYWJzKHRvdWNoLnBhZ2VYIC0gdGhpcy50b3VjaFN0YXJ0WCkgPiBib3VuZGFyeSB8fCBNYXRoLmFicyh0b3VjaC5wYWdlWSAtIHRoaXMudG91Y2hTdGFydFkpID4gYm91bmRhcnkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGxhc3QgcG9zaXRpb24uXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0aWYgKCF0aGlzLnRyYWNraW5nQ2xpY2spIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZSB0b3VjaCBoYXMgbW92ZWQsIGNhbmNlbCB0aGUgY2xpY2sgdHJhY2tpbmdcblx0XHRpZiAodGhpcy50YXJnZXRFbGVtZW50ICE9PSB0aGlzLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZXZlbnQudGFyZ2V0KSB8fCB0aGlzLnRvdWNoSGFzTW92ZWQoZXZlbnQpKSB7XG5cdFx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblxuXHQvKipcblx0ICogQXR0ZW1wdCB0byBmaW5kIHRoZSBsYWJlbGxlZCBjb250cm9sIGZvciB0aGUgZ2l2ZW4gbGFiZWwgZWxlbWVudC5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudFRhcmdldHxIVE1MTGFiZWxFbGVtZW50fSBsYWJlbEVsZW1lbnRcblx0ICogQHJldHVybnMge0VsZW1lbnR8bnVsbH1cblx0ICovXG5cdEZhc3RDbGljay5wcm90b3R5cGUuZmluZENvbnRyb2wgPSBmdW5jdGlvbihsYWJlbEVsZW1lbnQpIHtcblxuXHRcdC8vIEZhc3QgcGF0aCBmb3IgbmV3ZXIgYnJvd3NlcnMgc3VwcG9ydGluZyB0aGUgSFRNTDUgY29udHJvbCBhdHRyaWJ1dGVcblx0XHRpZiAobGFiZWxFbGVtZW50LmNvbnRyb2wgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGxhYmVsRWxlbWVudC5jb250cm9sO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBicm93c2VycyB1bmRlciB0ZXN0IHRoYXQgc3VwcG9ydCB0b3VjaCBldmVudHMgYWxzbyBzdXBwb3J0IHRoZSBIVE1MNSBodG1sRm9yIGF0dHJpYnV0ZVxuXHRcdGlmIChsYWJlbEVsZW1lbnQuaHRtbEZvcikge1xuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGxhYmVsRWxlbWVudC5odG1sRm9yKTtcblx0XHR9XG5cblx0XHQvLyBJZiBubyBmb3IgYXR0cmlidXRlIGV4aXN0cywgYXR0ZW1wdCB0byByZXRyaWV2ZSB0aGUgZmlyc3QgbGFiZWxsYWJsZSBkZXNjZW5kYW50IGVsZW1lbnRcblx0XHQvLyB0aGUgbGlzdCBvZiB3aGljaCBpcyBkZWZpbmVkIGhlcmU6IGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGFiZWxcblx0XHRyZXR1cm4gbGFiZWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbiwgaW5wdXQ6bm90KFt0eXBlPWhpZGRlbl0pLCBrZXlnZW4sIG1ldGVyLCBvdXRwdXQsIHByb2dyZXNzLCBzZWxlY3QsIHRleHRhcmVhJyk7XG5cdH07XG5cblxuXHQvKipcblx0ICogT24gdG91Y2ggZW5kLCBkZXRlcm1pbmUgd2hldGhlciB0byBzZW5kIGEgY2xpY2sgZXZlbnQgYXQgb25jZS5cblx0ICpcblx0ICogQHBhcmFtIHtFdmVudH0gZXZlbnRcblx0ICogQHJldHVybnMge2Jvb2xlYW59XG5cdCAqL1xuXHRGYXN0Q2xpY2sucHJvdG90eXBlLm9uVG91Y2hFbmQgPSBmdW5jdGlvbihldmVudCkge1xuXHRcdHZhciBmb3JFbGVtZW50LCB0cmFja2luZ0NsaWNrU3RhcnQsIHRhcmdldFRhZ05hbWUsIHNjcm9sbFBhcmVudCwgdG91Y2gsIHRhcmdldEVsZW1lbnQgPSB0aGlzLnRhcmdldEVsZW1lbnQ7XG5cblx0XHRpZiAoIXRoaXMudHJhY2tpbmdDbGljaykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gUHJldmVudCBwaGFudG9tIGNsaWNrcyBvbiBmYXN0IGRvdWJsZS10YXAgKGlzc3VlICMzNilcblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMubGFzdENsaWNrVGltZSkgPCB0aGlzLnRhcERlbGF5KSB7XG5cdFx0XHR0aGlzLmNhbmNlbE5leHRDbGljayA9IHRydWU7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAoKGV2ZW50LnRpbWVTdGFtcCAtIHRoaXMudHJhY2tpbmdDbGlja1N0YXJ0KSA+IHRoaXMudGFwVGltZW91dCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gUmVzZXQgdG8gcHJldmVudCB3cm9uZyBjbGljayBjYW5jZWwgb24gaW5wdXQgKGlzc3VlICMxNTYpLlxuXHRcdHRoaXMuY2FuY2VsTmV4dENsaWNrID0gZmFsc2U7XG5cblx0XHR0aGlzLmxhc3RDbGlja1RpbWUgPSBldmVudC50aW1lU3RhbXA7XG5cblx0XHR0cmFja2luZ0NsaWNrU3RhcnQgPSB0aGlzLnRyYWNraW5nQ2xpY2tTdGFydDtcblx0XHR0aGlzLnRyYWNraW5nQ2xpY2sgPSBmYWxzZTtcblx0XHR0aGlzLnRyYWNraW5nQ2xpY2tTdGFydCA9IDA7XG5cblx0XHQvLyBPbiBzb21lIGlPUyBkZXZpY2VzLCB0aGUgdGFyZ2V0RWxlbWVudCBzdXBwbGllZCB3aXRoIHRoZSBldmVudCBpcyBpbnZhbGlkIGlmIHRoZSBsYXllclxuXHRcdC8vIGlzIHBlcmZvcm1pbmcgYSB0cmFuc2l0aW9uIG9yIHNjcm9sbCwgYW5kIGhhcyB0byBiZSByZS1kZXRlY3RlZCBtYW51YWxseS4gTm90ZSB0aGF0XG5cdFx0Ly8gZm9yIHRoaXMgdG8gZnVuY3Rpb24gY29ycmVjdGx5LCBpdCBtdXN0IGJlIGNhbGxlZCAqYWZ0ZXIqIHRoZSBldmVudCB0YXJnZXQgaXMgY2hlY2tlZCFcblx0XHQvLyBTZWUgaXNzdWUgIzU3OyBhbHNvIGZpbGVkIGFzIHJkYXI6Ly8xMzA0ODU4OSAuXG5cdFx0aWYgKGRldmljZUlzSU9TV2l0aEJhZFRhcmdldCkge1xuXHRcdFx0dG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcblxuXHRcdFx0Ly8gSW4gY2VydGFpbiBjYXNlcyBhcmd1bWVudHMgb2YgZWxlbWVudEZyb21Qb2ludCBjYW4gYmUgbmVnYXRpdmUsIHNvIHByZXZlbnQgc2V0dGluZyB0YXJnZXRFbGVtZW50IHRvIG51bGxcblx0XHRcdHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRvdWNoLnBhZ2VYIC0gd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3VjaC5wYWdlWSAtIHdpbmRvdy5wYWdlWU9mZnNldCkgfHwgdGFyZ2V0RWxlbWVudDtcblx0XHRcdHRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50ID0gdGhpcy50YXJnZXRFbGVtZW50LmZhc3RDbGlja1Njcm9sbFBhcmVudDtcblx0XHR9XG5cblx0XHR0YXJnZXRUYWdOYW1lID0gdGFyZ2V0RWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0aWYgKHRhcmdldFRhZ05hbWUgPT09ICdsYWJlbCcpIHtcblx0XHRcdGZvckVsZW1lbnQgPSB0aGlzLmZpbmRDb250cm9sKHRhcmdldEVsZW1lbnQpO1xuXHRcdFx0aWYgKGZvckVsZW1lbnQpIHtcblx0XHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdFx0aWYgKGRldmljZUlzQW5kcm9pZCkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRhcmdldEVsZW1lbnQgPSBmb3JFbGVtZW50O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodGhpcy5uZWVkc0ZvY3VzKHRhcmdldEVsZW1lbnQpKSB7XG5cblx0XHRcdC8vIENhc2UgMTogSWYgdGhlIHRvdWNoIHN0YXJ0ZWQgYSB3aGlsZSBhZ28gKGJlc3QgZ3Vlc3MgaXMgMTAwbXMgYmFzZWQgb24gdGVzdHMgZm9yIGlzc3VlICMzNikgdGhlbiBmb2N1cyB3aWxsIGJlIHRyaWdnZXJlZCBhbnl3YXkuIFJldHVybiBlYXJseSBhbmQgdW5zZXQgdGhlIHRhcmdldCBlbGVtZW50IHJlZmVyZW5jZSBzbyB0aGF0IHRoZSBzdWJzZXF1ZW50IGNsaWNrIHdpbGwgYmUgYWxsb3dlZCB0aHJvdWdoLlxuXHRcdFx0Ly8gQ2FzZSAyOiBXaXRob3V0IHRoaXMgZXhjZXB0aW9uIGZvciBpbnB1dCBlbGVtZW50cyB0YXBwZWQgd2hlbiB0aGUgZG9jdW1lbnQgaXMgY29udGFpbmVkIGluIGFuIGlmcmFtZSwgdGhlbiBhbnkgaW5wdXR0ZWQgdGV4dCB3b24ndCBiZSB2aXNpYmxlIGV2ZW4gdGhvdWdoIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgdXBkYXRlZCBhcyB0aGUgdXNlciB0eXBlcyAoaXNzdWUgIzM3KS5cblx0XHRcdGlmICgoZXZlbnQudGltZVN0YW1wIC0gdHJhY2tpbmdDbGlja1N0YXJ0KSA+IDEwMCB8fCAoZGV2aWNlSXNJT1MgJiYgd2luZG93LnRvcCAhPT0gd2luZG93ICYmIHRhcmdldFRhZ05hbWUgPT09ICdpbnB1dCcpKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5mb2N1cyh0YXJnZXRFbGVtZW50KTtcblx0XHRcdHRoaXMuc2VuZENsaWNrKHRhcmdldEVsZW1lbnQsIGV2ZW50KTtcblxuXHRcdFx0Ly8gU2VsZWN0IGVsZW1lbnRzIG5lZWQgdGhlIGV2ZW50IHRvIGdvIHRocm91Z2ggb24gaU9TIDQsIG90aGVyd2lzZSB0aGUgc2VsZWN0b3IgbWVudSB3b24ndCBvcGVuLlxuXHRcdFx0Ly8gQWxzbyB0aGlzIGJyZWFrcyBvcGVuaW5nIHNlbGVjdHMgd2hlbiBWb2ljZU92ZXIgaXMgYWN0aXZlIG9uIGlPUzYsIGlPUzcgKGFuZCBwb3NzaWJseSBvdGhlcnMpXG5cdFx0XHRpZiAoIWRldmljZUlzSU9TIHx8IHRhcmdldFRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG5cdFx0XHRcdHRoaXMudGFyZ2V0RWxlbWVudCA9IG51bGw7XG5cdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRpZiAoZGV2aWNlSXNJT1MgJiYgIWRldmljZUlzSU9TNCkge1xuXG5cdFx0XHQvLyBEb24ndCBzZW5kIGEgc3ludGhldGljIGNsaWNrIGV2ZW50IGlmIHRoZSB0YXJnZXQgZWxlbWVudCBpcyBjb250YWluZWQgd2l0aGluIGEgcGFyZW50IGxheWVyIHRoYXQgd2FzIHNjcm9sbGVkXG5cdFx0XHQvLyBhbmQgdGhpcyB0YXAgaXMgYmVpbmcgdXNlZCB0byBzdG9wIHRoZSBzY3JvbGxpbmcgKHVzdWFsbHkgaW5pdGlhdGVkIGJ5IGEgZmxpbmcgLSBpc3N1ZSAjNDIpLlxuXHRcdFx0c2Nyb2xsUGFyZW50ID0gdGFyZ2V0RWxlbWVudC5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQ7XG5cdFx0XHRpZiAoc2Nyb2xsUGFyZW50ICYmIHNjcm9sbFBhcmVudC5mYXN0Q2xpY2tMYXN0U2Nyb2xsVG9wICE9PSBzY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFByZXZlbnQgdGhlIGFjdHVhbCBjbGljayBmcm9tIGdvaW5nIHRob3VnaCAtIHVubGVzcyB0aGUgdGFyZ2V0IG5vZGUgaXMgbWFya2VkIGFzIHJlcXVpcmluZ1xuXHRcdC8vIHJlYWwgY2xpY2tzIG9yIGlmIGl0IGlzIGluIHRoZSB3aGl0ZWxpc3QgaW4gd2hpY2ggY2FzZSBvbmx5IG5vbi1wcm9ncmFtbWF0aWMgY2xpY2tzIGFyZSBwZXJtaXR0ZWQuXG5cdFx0aWYgKCF0aGlzLm5lZWRzQ2xpY2sodGFyZ2V0RWxlbWVudCkpIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR0aGlzLnNlbmRDbGljayh0YXJnZXRFbGVtZW50LCBldmVudCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9O1xuXG5cblx0LyoqXG5cdCAqIE9uIHRvdWNoIGNhbmNlbCwgc3RvcCB0cmFja2luZyB0aGUgY2xpY2suXG5cdCAqXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vblRvdWNoQ2FuY2VsID0gZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy50cmFja2luZ0NsaWNrID0gZmFsc2U7XG5cdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgbW91c2UgZXZlbnRzIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vbk1vdXNlID0gZnVuY3Rpb24oZXZlbnQpIHtcblxuXHRcdC8vIElmIGEgdGFyZ2V0IGVsZW1lbnQgd2FzIG5ldmVyIHNldCAoYmVjYXVzZSBhIHRvdWNoIGV2ZW50IHdhcyBuZXZlciBmaXJlZCkgYWxsb3cgdGhlIGV2ZW50XG5cdFx0aWYgKCF0aGlzLnRhcmdldEVsZW1lbnQpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChldmVudC5mb3J3YXJkZWRUb3VjaEV2ZW50KSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBQcm9ncmFtbWF0aWNhbGx5IGdlbmVyYXRlZCBldmVudHMgdGFyZ2V0aW5nIGEgc3BlY2lmaWMgZWxlbWVudCBzaG91bGQgYmUgcGVybWl0dGVkXG5cdFx0aWYgKCFldmVudC5jYW5jZWxhYmxlKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBEZXJpdmUgYW5kIGNoZWNrIHRoZSB0YXJnZXQgZWxlbWVudCB0byBzZWUgd2hldGhlciB0aGUgbW91c2UgZXZlbnQgbmVlZHMgdG8gYmUgcGVybWl0dGVkO1xuXHRcdC8vIHVubGVzcyBleHBsaWNpdGx5IGVuYWJsZWQsIHByZXZlbnQgbm9uLXRvdWNoIGNsaWNrIGV2ZW50cyBmcm9tIHRyaWdnZXJpbmcgYWN0aW9ucyxcblx0XHQvLyB0byBwcmV2ZW50IGdob3N0L2RvdWJsZWNsaWNrcy5cblx0XHRpZiAoIXRoaXMubmVlZHNDbGljayh0aGlzLnRhcmdldEVsZW1lbnQpIHx8IHRoaXMuY2FuY2VsTmV4dENsaWNrKSB7XG5cblx0XHRcdC8vIFByZXZlbnQgYW55IHVzZXItYWRkZWQgbGlzdGVuZXJzIGRlY2xhcmVkIG9uIEZhc3RDbGljayBlbGVtZW50IGZyb20gYmVpbmcgZmlyZWQuXG5cdFx0XHRpZiAoZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XG5cdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHQvLyBQYXJ0IG9mIHRoZSBoYWNrIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgRXZlbnQjc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIChlLmcuIEFuZHJvaWQgMilcblx0XHRcdFx0ZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FuY2VsIHRoZSBldmVudFxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdGhlIG1vdXNlIGV2ZW50IGlzIHBlcm1pdHRlZCwgcmV0dXJuIHRydWUgZm9yIHRoZSBhY3Rpb24gdG8gZ28gdGhyb3VnaC5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXG5cdC8qKlxuXHQgKiBPbiBhY3R1YWwgY2xpY2tzLCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgdG91Y2gtZ2VuZXJhdGVkIGNsaWNrLCBhIGNsaWNrIGFjdGlvbiBvY2N1cnJpbmdcblx0ICogbmF0dXJhbGx5IGFmdGVyIGEgZGVsYXkgYWZ0ZXIgYSB0b3VjaCAod2hpY2ggbmVlZHMgdG8gYmUgY2FuY2VsbGVkIHRvIGF2b2lkIGR1cGxpY2F0aW9uKSwgb3Jcblx0ICogYW4gYWN0dWFsIGNsaWNrIHdoaWNoIHNob3VsZCBiZSBwZXJtaXR0ZWQuXG5cdCAqXG5cdCAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG5cdCAqIEByZXR1cm5zIHtib29sZWFufVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5vbkNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcblx0XHR2YXIgcGVybWl0dGVkO1xuXG5cdFx0Ly8gSXQncyBwb3NzaWJsZSBmb3IgYW5vdGhlciBGYXN0Q2xpY2stbGlrZSBsaWJyYXJ5IGRlbGl2ZXJlZCB3aXRoIHRoaXJkLXBhcnR5IGNvZGUgdG8gZmlyZSBhIGNsaWNrIGV2ZW50IGJlZm9yZSBGYXN0Q2xpY2sgZG9lcyAoaXNzdWUgIzQ0KS4gSW4gdGhhdCBjYXNlLCBzZXQgdGhlIGNsaWNrLXRyYWNraW5nIGZsYWcgYmFjayB0byBmYWxzZSBhbmQgcmV0dXJuIGVhcmx5LiBUaGlzIHdpbGwgY2F1c2Ugb25Ub3VjaEVuZCB0byByZXR1cm4gZWFybHkuXG5cdFx0aWYgKHRoaXMudHJhY2tpbmdDbGljaykge1xuXHRcdFx0dGhpcy50YXJnZXRFbGVtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMudHJhY2tpbmdDbGljayA9IGZhbHNlO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gVmVyeSBvZGQgYmVoYXZpb3VyIG9uIGlPUyAoaXNzdWUgIzE4KTogaWYgYSBzdWJtaXQgZWxlbWVudCBpcyBwcmVzZW50IGluc2lkZSBhIGZvcm0gYW5kIHRoZSB1c2VyIGhpdHMgZW50ZXIgaW4gdGhlIGlPUyBzaW11bGF0b3Igb3IgY2xpY2tzIHRoZSBHbyBidXR0b24gb24gdGhlIHBvcC11cCBPUyBrZXlib2FyZCB0aGUgYSBraW5kIG9mICdmYWtlJyBjbGljayBldmVudCB3aWxsIGJlIHRyaWdnZXJlZCB3aXRoIHRoZSBzdWJtaXQtdHlwZSBpbnB1dCBlbGVtZW50IGFzIHRoZSB0YXJnZXQuXG5cdFx0aWYgKGV2ZW50LnRhcmdldC50eXBlID09PSAnc3VibWl0JyAmJiBldmVudC5kZXRhaWwgPT09IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHBlcm1pdHRlZCA9IHRoaXMub25Nb3VzZShldmVudCk7XG5cblx0XHQvLyBPbmx5IHVuc2V0IHRhcmdldEVsZW1lbnQgaWYgdGhlIGNsaWNrIGlzIG5vdCBwZXJtaXR0ZWQuIFRoaXMgd2lsbCBlbnN1cmUgdGhhdCB0aGUgY2hlY2sgZm9yICF0YXJnZXRFbGVtZW50IGluIG9uTW91c2UgZmFpbHMgYW5kIHRoZSBicm93c2VyJ3MgY2xpY2sgZG9lc24ndCBnbyB0aHJvdWdoLlxuXHRcdGlmICghcGVybWl0dGVkKSB7XG5cdFx0XHR0aGlzLnRhcmdldEVsZW1lbnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdC8vIElmIGNsaWNrcyBhcmUgcGVybWl0dGVkLCByZXR1cm4gdHJ1ZSBmb3IgdGhlIGFjdGlvbiB0byBnbyB0aHJvdWdoLlxuXHRcdHJldHVybiBwZXJtaXR0ZWQ7XG5cdH07XG5cblxuXHQvKipcblx0ICogUmVtb3ZlIGFsbCBGYXN0Q2xpY2sncyBldmVudCBsaXN0ZW5lcnMuXG5cdCAqXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0RmFzdENsaWNrLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGxheWVyID0gdGhpcy5sYXllcjtcblxuXHRcdGlmIChkZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2UsIHRydWUpO1xuXHRcdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZSwgdHJ1ZSk7XG5cdFx0fVxuXG5cdFx0bGF5ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2ssIHRydWUpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hTdGFydCwgZmFsc2UpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Ub3VjaE1vdmUsIGZhbHNlKTtcblx0XHRsYXllci5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaEVuZCwgZmFsc2UpO1xuXHRcdGxheWVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblRvdWNoQ2FuY2VsLCBmYWxzZSk7XG5cdH07XG5cblxuXHQvKipcblx0ICogQ2hlY2sgd2hldGhlciBGYXN0Q2xpY2sgaXMgbmVlZGVkLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cblx0ICovXG5cdEZhc3RDbGljay5ub3ROZWVkZWQgPSBmdW5jdGlvbihsYXllcikge1xuXHRcdHZhciBtZXRhVmlld3BvcnQ7XG5cdFx0dmFyIGNocm9tZVZlcnNpb247XG5cdFx0dmFyIGJsYWNrYmVycnlWZXJzaW9uO1xuXHRcdHZhciBmaXJlZm94VmVyc2lvbjtcblxuXHRcdC8vIERldmljZXMgdGhhdCBkb24ndCBzdXBwb3J0IHRvdWNoIGRvbid0IG5lZWQgRmFzdENsaWNrXG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cub250b3VjaHN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hyb21lIHZlcnNpb24gLSB6ZXJvIGZvciBvdGhlciBicm93c2Vyc1xuXHRcdGNocm9tZVZlcnNpb24gPSArKC9DaHJvbWVcXC8oWzAtOV0rKS8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50KSB8fCBbLDBdKVsxXTtcblxuXHRcdGlmIChjaHJvbWVWZXJzaW9uKSB7XG5cblx0XHRcdGlmIChkZXZpY2VJc0FuZHJvaWQpIHtcblx0XHRcdFx0bWV0YVZpZXdwb3J0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPXZpZXdwb3J0XScpO1xuXG5cdFx0XHRcdGlmIChtZXRhVmlld3BvcnQpIHtcblx0XHRcdFx0XHQvLyBDaHJvbWUgb24gQW5kcm9pZCB3aXRoIHVzZXItc2NhbGFibGU9XCJub1wiIGRvZXNuJ3QgbmVlZCBGYXN0Q2xpY2sgKGlzc3VlICM4OSlcblx0XHRcdFx0XHRpZiAobWV0YVZpZXdwb3J0LmNvbnRlbnQuaW5kZXhPZigndXNlci1zY2FsYWJsZT1ubycpICE9PSAtMSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIENocm9tZSAzMiBhbmQgYWJvdmUgd2l0aCB3aWR0aD1kZXZpY2Utd2lkdGggb3IgbGVzcyBkb24ndCBuZWVkIEZhc3RDbGlja1xuXHRcdFx0XHRcdGlmIChjaHJvbWVWZXJzaW9uID4gMzEgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoIDw9IHdpbmRvdy5vdXRlcldpZHRoKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hyb21lIGRlc2t0b3AgZG9lc24ndCBuZWVkIEZhc3RDbGljayAoaXNzdWUgIzE1KVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGRldmljZUlzQmxhY2tCZXJyeTEwKSB7XG5cdFx0XHRibGFja2JlcnJ5VmVyc2lvbiA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1ZlcnNpb25cXC8oWzAtOV0qKVxcLihbMC05XSopLyk7XG5cblx0XHRcdC8vIEJsYWNrQmVycnkgMTAuMysgZG9lcyBub3QgcmVxdWlyZSBGYXN0Y2xpY2sgbGlicmFyeS5cblx0XHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mdGxhYnMvZmFzdGNsaWNrL2lzc3Vlcy8yNTFcblx0XHRcdGlmIChibGFja2JlcnJ5VmVyc2lvblsxXSA+PSAxMCAmJiBibGFja2JlcnJ5VmVyc2lvblsyXSA+PSAzKSB7XG5cdFx0XHRcdG1ldGFWaWV3cG9ydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT12aWV3cG9ydF0nKTtcblxuXHRcdFx0XHRpZiAobWV0YVZpZXdwb3J0KSB7XG5cdFx0XHRcdFx0Ly8gdXNlci1zY2FsYWJsZT1ubyBlbGltaW5hdGVzIGNsaWNrIGRlbGF5LlxuXHRcdFx0XHRcdGlmIChtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKCd1c2VyLXNjYWxhYmxlPW5vJykgIT09IC0xKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gd2lkdGg9ZGV2aWNlLXdpZHRoIChvciBsZXNzIHRoYW4gZGV2aWNlLXdpZHRoKSBlbGltaW5hdGVzIGNsaWNrIGRlbGF5LlxuXHRcdFx0XHRcdGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGggPD0gd2luZG93Lm91dGVyV2lkdGgpIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElFMTAgd2l0aCAtbXMtdG91Y2gtYWN0aW9uOiBub25lIG9yIG1hbmlwdWxhdGlvbiwgd2hpY2ggZGlzYWJsZXMgZG91YmxlLXRhcC10by16b29tIChpc3N1ZSAjOTcpXG5cdFx0aWYgKGxheWVyLnN0eWxlLm1zVG91Y2hBY3Rpb24gPT09ICdub25lJyB8fCBsYXllci5zdHlsZS50b3VjaEFjdGlvbiA9PT0gJ21hbmlwdWxhdGlvbicpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIEZpcmVmb3ggdmVyc2lvbiAtIHplcm8gZm9yIG90aGVyIGJyb3dzZXJzXG5cdFx0ZmlyZWZveFZlcnNpb24gPSArKC9GaXJlZm94XFwvKFswLTldKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgWywwXSlbMV07XG5cblx0XHRpZiAoZmlyZWZveFZlcnNpb24gPj0gMjcpIHtcblx0XHRcdC8vIEZpcmVmb3ggMjcrIGRvZXMgbm90IGhhdmUgdGFwIGRlbGF5IGlmIHRoZSBjb250ZW50IGlzIG5vdCB6b29tYWJsZSAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTkyMjg5NlxuXG5cdFx0XHRtZXRhVmlld3BvcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9dmlld3BvcnRdJyk7XG5cdFx0XHRpZiAobWV0YVZpZXdwb3J0ICYmIChtZXRhVmlld3BvcnQuY29udGVudC5pbmRleE9mKCd1c2VyLXNjYWxhYmxlPW5vJykgIT09IC0xIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCA8PSB3aW5kb3cub3V0ZXJXaWR0aCkpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSUUxMTogcHJlZml4ZWQgLW1zLXRvdWNoLWFjdGlvbiBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGFuZCBpdCdzIHJlY29tZW5kZWQgdG8gdXNlIG5vbi1wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0Ly8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvYXBwcy9IaDc2NzMxMy5hc3B4XG5cdFx0aWYgKGxheWVyLnN0eWxlLnRvdWNoQWN0aW9uID09PSAnbm9uZScgfHwgbGF5ZXIuc3R5bGUudG91Y2hBY3Rpb24gPT09ICdtYW5pcHVsYXRpb24nKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG5cblxuXHQvKipcblx0ICogRmFjdG9yeSBtZXRob2QgZm9yIGNyZWF0aW5nIGEgRmFzdENsaWNrIG9iamVjdFxuXHQgKlxuXHQgKiBAcGFyYW0ge0VsZW1lbnR9IGxheWVyIFRoZSBsYXllciB0byBsaXN0ZW4gb25cblx0ICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHNcblx0ICovXG5cdEZhc3RDbGljay5hdHRhY2ggPSBmdW5jdGlvbihsYXllciwgb3B0aW9ucykge1xuXHRcdHJldHVybiBuZXcgRmFzdENsaWNrKGxheWVyLCBvcHRpb25zKTtcblx0fTtcblxuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIEZhc3RDbGljaztcblx0XHR9KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gRmFzdENsaWNrLmF0dGFjaDtcblx0XHRtb2R1bGUuZXhwb3J0cy5GYXN0Q2xpY2sgPSBGYXN0Q2xpY2s7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LkZhc3RDbGljayA9IEZhc3RDbGljaztcblx0fVxufSgpKTtcbiIsImltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuY2xhc3MgSGVhZGVyIHtcblxuICBjb25zdHJ1Y3RvcihlbCkge1xuXG4gICAgY29uc29sZS5sb2coJ2luaXRIZWFkZXInKTtcblxuXHQgIHRoaXMuRE9NID0ge307XG5cdCAgdGhpcy5ET00uZWwgPSBlbDtcblx0ICB0aGlzLkRPTS5ib2R5ID0gZG9jdW1lbnQuYm9keTtcblx0ICB0aGlzLkRPTS5icmFuZCA9IHRoaXMuRE9NLmVsLnF1ZXJ5U2VsZWN0b3IoJy5icmFuZCcpO1xuXHQgIHRoaXMuRE9NLnRvZ2dsZSA9IHRoaXMuRE9NLmVsLnF1ZXJ5U2VsZWN0b3IoJy50b2dnbGVfX21lbnUnKTtcbiAgICB0aGlzLkRPTS5tZW51Q29udGFpbmVyID0gdGhpcy5ET00uZWwucXVlcnlTZWxlY3RvcignbmF2Jyk7XG4gICAgdGhpcy5tZW51T3BlbiA9IGZhbHNlO1xuXG5cdCAgdGhpcy5pbml0KCk7XG5cbiAgfVxuXG4gIGluaXQoKSB7XG5cbiAgICAvL2FuaW1hdGlvbiBPcGVuXG4gICAgY29uc3QgbWVudU9wZW5UTCA9IG5ldyBUaW1lbGluZU1heCh7IHBhdXNlZDogdHJ1ZX0pO1xuXG4gIFx0Ly90b2dnbGVcbiAgXHR0aGlzLkRPTS50b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKSA9PiB7XG5cbiAgXHRcdGUucHJldmVudERlZmF1bHQoKTtcbiAgXHRcdHRoaXMuRE9NLmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc2hvd01lbnUnKTtcblxuICAgICAgLy9pZiBPcGVubmluZ1xuICBcdFx0aWYgKCB0aGlzLkRPTS5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnc2hvd01lbnUnKSApIHtcblxuICAgICAgICB0aGlzLm1lbnVPcGVuID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ET00uYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgICAgIHRoaXMuRE9NLm1lbnVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICAgIC8vQW5pbWF0aW9uXG4gICAgICAgIG1lbnVPcGVuVEwudG90YWxEdXJhdGlvbigyKS5yZXN0YXJ0KCk7XG5cbiAgXHRcdH0gZWxzZSB7XG5cbiAgICAgICAgdGhpcy5tZW51T3BlbiA9IGZhbHNlO1xuXG4gICAgICAgIC8vQW5pbWF0aW9uIFJldmVyc2VcbiAgICAgICAgbWVudU9wZW5UTC50b3RhbER1cmF0aW9uKDEpLnJldmVyc2UoKTtcblxuICAgICAgICB0aGlzLkRPTS5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XG4gICAgICAgIHRoaXMuRE9NLm1lbnVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cbiAgXHRcdH1cblxuICBcdH0pO1xuXG5cbiAgICAvLyBMaW5rcyBDbGlja1xuICAgIGNvbnN0IGxpbmtzID0gdGhpcy5ET00ubWVudUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19saW5rJylcbiAgICBsaW5rcy5mb3JFYWNoKChlbGVtKSA9PiB7XG5cbiAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKT0+IHtcbiAgICAgICAgaWYgKCB0aGlzLkRPTS5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKSAhPSBudWxsICkge1xuICAgICAgICAgICB0aGlzLkRPTS5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgfVxuICAgICAgICBlLmN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH0pXG5cbiAgICB9KTtcblxuICAgIC8vIEJyYW5kIENsaWNrXG4gICAgdGhpcy5ET00uYnJhbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLChlKT0+IHtcblxuICAgICAgaWYgKCB0aGlzLkRPTS5tZW51Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKSAhPSBudWxsICkge1xuICAgICAgICAgdGhpcy5ET00ubWVudUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICB9KVxuXG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXI7XG4iLCJpbXBvcnQgJ25vZGVsaXN0LWZvcmVhY2gtcG9seWZpbGwnXG5pbXBvcnQgRmFzdENsaWNrIGZyb20gJ2Zhc3RjbGljayc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IEhlYWRlciBmcm9tICcuL21vZHVsZXMvaGVhZGVyLmpzJztcblxuaW1wb3J0IHtpbml0SG9tZX0gZnJvbSAnLi9wYWdlcy9ob21lLmpzJztcbmltcG9ydCB7aW5pdFBhZ2V9IGZyb20gJy4vcGFnZXMvcGFnZS5qcyc7XG5cbmNsYXNzIEFwcCB7XG5cbiAgY29uc3RydWN0b3Iob3B0ID0ge30pIHtcblxuICAgIC8vRGVjbGFyYXRpb25zXG4gICAgdGhpcy5zeSA9IDA7XG4gICAgdGhpcy5kZXZNb2RlID0gdHJ1ZTtcbiAgICB0aGlzLkRPTSA9IHt9O1xuICAgIHRoaXMuRE9NLmJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgIHRoaXMuRE9NLmZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvb3RlcicpO1xuICAgIHRoaXMuRE9NLmJhcmJhV3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiYXJiYS13cmFwcGVyJyk7XG5cbiAgICAvL1NpZ25hdHVyZSBXb2tpbmVcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKVxuICAgIGNvbnNvbGUubG9nKFwiJWNDcmVhdGVkIGJ5IFdva2luZSwgd2l0aCDinaRcIixcImNvbG9yOiAjMDAwOyBwYWRkaW5nOiA1cHggMHB4IDFweDsgYm9yZGVyLWJvdHRvbToycHggc29saWQgIzcxZDFjMjtcIiksY29uc29sZS5sb2coXCIlY2h0dHA6Ly93b2tpbmUuY29tXCIsXCJjb2xvcjojY2NjXCIpXG5cbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmFkZEV2ZW50cygpO1xuICAgIHRoaXMuaW50cm8oKTtcblxuICB9XG5cbiAgaW5pdCgpIHtcblxuICAgIC8vRGV2TW9kZSAoIGluZm9zIG5hdmlnYXRldXIgKVxuICAgIGlmICh0aGlzLmRldk1vZGUpIHtcbiAgXHRcdGNvbnNvbGUubG9nKCdERVZNT0RFIEJJQVRDSCcpO1xuICAgICAgY29uc29sZS5sb2cod2luZG93LlNuaWZmKTtcbiAgICB9XG5cbiAgICAvL1Jlc2V0c1xuICAgIEZhc3RDbGljayh0aGlzLkRPTS5ib2R5KTtcbiAgICB0aGlzLkRPTS5ib2R5LnNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgIGhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSAnbWFudWFsJztcblxuICAgIC8vIENyZWF0ZSBIZWFkZXJcbiAgXHRjb25zdCBoZWFkZXIgPSBuZXcgSGVhZGVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHkgPiBoZWFkZXInKSk7XG5cbiAgICAvL0JhcmJhXG4gICAgQmFyYmEuRGlzcGF0Y2hlci5vbignbmV3UGFnZVJlYWR5JywgKGN1cnJlbnRTdGF0dXMsIG9sZFN0YXR1cywgY29udGFpbmVyKSA9PiB7XG5cbiAgICAgIC8vIG5ld1BhZ2VSZWFkeVxuXG4gICAgICAvLyBBbmltYXRpb25zXG4gICAgICBpZiAoIXdpbmRvdy5TbmlmZi5mZWF0dXJlcy5tb2JpbGUpIHtcbiAgICAgICAgdGhpcy5pbml0UHJsbHgoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5pbml0SW5WaWV3KGNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICB9KTtcblxuICAgIEJhcmJhLkRpc3BhdGNoZXIub24oJ2xpbmtDbGlja2VkJywgKEhUTUxFbGVtZW50LCBNb3VzZUV2ZW50KSA9PiB7XG5cbiAgICAgIC8vbGlua0NsaWNrZWRcblxuICAgIH0pXG5cbiAgICBCYXJiYS5EaXNwYXRjaGVyLm9uKCdpbml0U3RhdGVDaGFuZ2UnLCBmdW5jdGlvbigpIHtcblxuICAgICAgLy9pbml0U3RhdGVDaGFuZ2VcbiAgXHRcdGlmICh0eXBlb2YgZ2EgPT09ICdmdW5jdGlvbicpIHtcbiAgXHRcdFx0Z2EoJ3NlbmQnLCAncGFnZXZpZXcnLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gIFx0XHR9XG5cbiAgXHR9KTtcblxuICAgIHZhciBwYWdlVHJhbnNpdGlvbiA9IEJhcmJhLkJhc2VUcmFuc2l0aW9uLmV4dGVuZCh7XG5cbiAgXHRcdHN0YXJ0OiBmdW5jdGlvbigpIHtcblxuICBcdFx0ICBQcm9taXNlLmFsbChbdGhpcy5uZXdDb250YWluZXJMb2FkaW5nLCB0aGlzLnRyYW5zaXRpb25PdXQoKV0pXG4gIFx0XHQgIC50aGVuKHRoaXMudHJhbnNpdGlvbkluLmJpbmQodGhpcykpO1xuXG4gIFx0XHR9LFxuXG4gIFx0XHR0cmFuc2l0aW9uT3V0OiBmdW5jdGlvbigpIHtcblxuICBcdFx0XHRsZXQgZGVmZXJyZWQgPSBCYXJiYS5VdGlscy5kZWZlcnJlZCgpO1xuICBcdFx0XHRsZXQgb2xkQ29udGFpbmVyID0gdGhpcy5vbGRDb250YWluZXI7XG5cblx0XHRcdCAgY29uc3QgcGFnZU91dCA9IG5ldyBUaW1lbGluZU1heCh7IHBhdXNlZDp0cnVlLCBvbkNvbXBsZXRlOigpPT57XG5cbiAgICAgICAgICAvL0Nsb3NlIE1lbnUgaWYgT3BlblxuICAgICAgICAgIC8qaWYoaGVhZGVyLm1lbnVPcGVuKXtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuU25pZmYuZmVhdHVyZXMubW9iaWxlKSB7XG4gICAgICAgICAgICAgIHV0aWxzLnNpbXVsYXRlQ2xpY2soaGVhZGVyLkRPTS50b2dnbGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaGVhZGVyLkRPTS50b2dnbGUuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9Ki9cblxuICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLDApO1xuXHRcdFx0XHQgIGRlZmVycmVkLnJlc29sdmUoKTtcblxuXHRcdFx0ICB9fSk7XG5cbiAgICAgICAgcGFnZU91dC50byhvbGRDb250YWluZXIsIDAuOCwge29wYWNpdHk6MCwgZWFzZTpQb3dlcjMuZWFzZU91dH0sIDApO1xuICAgICAgICBwYWdlT3V0LnBsYXkoKTtcblxuICBcdFx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcblxuICBcdFx0fSxcblxuICBcdFx0dHJhbnNpdGlvbkluOiBmdW5jdGlvbigpIHtcblxuICBcdFx0XHR2YXIgX3RoaXMgPSB0aGlzO1xuXG4gIFx0XHRcdHRoaXMub2xkQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgXHRcdFx0dGhpcy5uZXdDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcblxuXHRcdCAgICBjb25zdCBwYWdlSW4gPSBuZXcgVGltZWxpbmVNYXgoeyBwYXVzZWQ6dHJ1ZSwgb25Db21wbGV0ZTooKT0+e1xuXHRcdFx0XHRcdF90aGlzLmRvbmUoKTtcblx0XHRcdFx0fX0pXG5cbiAgICAgICAgcGFnZUluLmZyb20odGhpcy5uZXdDb250YWluZXIsIDEuMiwge29wYWNpdHk6MCwgZWFzZTpQb3dlcjMuZWFzZU91dH0sIDApO1xuICAgICAgICBwYWdlSW4ucGxheSgpO1xuXG4gIFx0XHR9XG5cbiAgXHR9KTtcblxuICBcdEJhcmJhLlBqYXguZ2V0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBcdCAgcmV0dXJuIHBhZ2VUcmFuc2l0aW9uO1xuICBcdH07XG5cbiAgXHQvL3JvdXRlc1xuICBcdGluaXRIb21lKCk7XG4gIFx0aW5pdFBhZ2UoKTtcblxuICAgIEJhcmJhLlBqYXguc3RhcnQoKTtcblxuICB9XG5cbiAgYWRkRXZlbnRzKCnCoHtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoZSkgPT4ge1xuICBcdFx0dGhpcy5zeSA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xuICBcdH0pXG5cbiAgfVxuXG4gIGluaXRQcmxseChjb250YWluZXIpIHtcblxuXHQgIGNvbnN0IFRMUHJsbHhzID0gW11cblx0ICBjb25zdCBwcmxseHMgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnKltkYXRhLXBybGx4XScpO1xuXHQgIHBybGx4cy5mb3JFYWNoKChpdGVtKSA9PiB7XG5cblx0XHQgICAgbGV0IHBybGx4VEwgPSBuZXcgVGltZWxpbmVNYXgoeyBwYXVzZWQ6IHRydWV9KTtcbiAgICAgICAgVHdlZW5NYXguc2V0KGl0ZW0sIHsgeTogLTEgKiBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1wcmxseCcpIH0pO1xuICBcdCAgICBwcmxseFRMLnRvKGl0ZW0sIDEsIHsgeTppdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1wcmxseCcpLCBvdmVyd3JpdGU6XCJhbGxcIiwgZWFzZTpQb3dlcjAuZWFzZU5vbmUgfSk7XG5cdFx0ICAgIFRMUHJsbHhzLnB1c2gocHJsbHhUTCk7XG5cblx0ICB9KTtcblxuXHQgIHZhciBwcmxseFJlbmRlciA9IGZ1bmN0aW9uICgpe1xuXG5cdCAgICBwcmxseHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IGZyb20gPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIHRoaXMuc3kgLSB3aW5kb3cuaW5uZXJIZWlnaHQgO1xuXHQgICAgICBsZXQgbm9ybSA9IHV0aWxzLmNsYW1wKHV0aWxzLm5vcm1hbGl6ZShzeSwgIGZyb20gLCAgaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB0aGlzLnN5ICsgaXRlbS5vZmZzZXRIZWlnaHQpLCAwLCAxKTtcblx0XHQgICAgVExQcmxseHNbaW5kZXhdLnByb2dyZXNzKG5vcm0pO1xuXHQgICAgfSk7XG5cblx0ICB9XG5cblx0ICBUd2Vlbk1heC50aWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihcInRpY2tcIiwgcHJsbHhSZW5kZXIsIHRoaXMsIHRydWUsIDEpO1xuXG4gIH1cblxuICBpbml0SW5WaWV3KGNvbnRhaW5lcikge1xuXG5cbiAgICAvL2ZhZGVJblxuICAgIGNvbnN0IGZhZGVJbkVsZW1zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYWRlSW5WaWV3Jyk7XG5cbiAgICBpZiAoZmFkZUluRWxlbXMpIHtcbiAgICAgIGZhZGVJbkVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgZWxlbS5mYWRlSW5UTCA9IG5ldyBUaW1lbGluZU1heCh7IHBhdXNlZDogdHJ1ZX0pO1xuICAgICAgICBlbGVtLmZhZGVJblRMLmZyb20oZWxlbSwgMSwge3k6ODAsIG9wYWNpdHk6MCwgZWFzZTpQb3dlcjMuZWFzZU91dH0sIDApO1xuICAgICAgfSlcblxuICAgICAgaW5WaWV3KFwibWFpbiAuZmFkZUluVmlld1wiKS5vbignZW50ZXInLCBlbCA9PiB7XG4gICAgICAgIGlmKCFlbC5kb25lKSAgZWwuZmFkZUluVEwuZHVyYXRpb24oYW5pbWF0aW9uRHVyYXRpb24pLnBsYXkoKTtcbiAgICAgIH0pLm9uKCdleGl0JywgZWwgPT4ge1xuICAgICAgICBlbC5kb25lID0gdHJ1ZTtcbiAgICAgICAgLy9lbC5mYWRlSW5UTC5kdXJhdGlvbigwLjIpLnJldmVyc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLy9sZXR0ZXJJblxuICAgIGNvbnN0IGxldHRlcnNJbkVsZW1zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5sZXR0ZXJzSW5WaWV3Jyk7XG4gICAgaWYgKGxldHRlcnNJbkVsZW1zKSB7XG5cbiAgICAgIGxldHRlcnNJbkVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgZWxlbS5zcGxpdExldHRlcnMgPSBuZXcgU3BsaXRUZXh0KGVsZW0sIHt0eXBlOlwiY2hhcnNcIn0pO1xuICAgICAgICBlbGVtLmxldHRlcnNJblRMID0gbmV3IFRpbWVsaW5lTWF4KHsgcGF1c2VkOiB0cnVlfSk7XG4gICAgICAgIGVsZW0ubGV0dGVyc0luVEwuc3RhZ2dlckZyb20oZWxlbS5zcGxpdExldHRlcnMuY2hhcnMsIDEsIHt5OjIwLCBvcGFjaXR5OjAsIGVhc2U6UG93ZXIzLmVhc2VPdXR9LCAwLjAxNSwgMCk7XG4gICAgICB9KVxuXG4gICAgICBpblZpZXcoXCJtYWluIC5sZXR0ZXJzSW5WaWV3XCIpLm9uKCdlbnRlcicsIGVsID0+IHtcbiAgICAgICAgaWYoIWVsLmRvbmUpICBlbC5sZXR0ZXJzSW5UTC5kdXJhdGlvbihhbmltYXRpb25EdXJhdGlvbikucGxheSgpO1xuICAgICAgfSkub24oJ2V4aXQnLCBlbCA9PiB7XG4gICAgICAgIGVsLmRvbmUgPSB0cnVlO1xuICAgICAgICBlbC5pbm5lckhUTUwgPSBlbC5zcGxpdExldHRlcnMuX29yaWdpbmFscztcbiAgICAgICAgLy9lbC5sZXR0ZXJzSW5UTC5kdXJhdGlvbigwLjIpLnJldmVyc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLy9saW5lc0luXG4gICAgY29uc3QgbGluZXNJbkVsZW1zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5saW5lc0luVmlldycpO1xuICAgIGlmIChsaW5lc0luRWxlbXMpIHtcblxuICAgICAgbGluZXNJbkVsZW1zLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgZWxlbS5zcGxpdExpbmVzID0gbmV3IFNwbGl0VGV4dChlbGVtLCB7dHlwZTpcImxpbmVzXCJ9KTtcbiAgICAgICAgZWxlbS5saW5lc0luVEwgPSBuZXcgVGltZWxpbmVNYXgoeyBwYXVzZWQ6IHRydWV9KTtcbiAgICAgICAgZWxlbS5saW5lc0luVEwuc3RhZ2dlckZyb20oZWxlbS5zcGxpdExpbmVzLmxpbmVzLCAxLCB7eToyMCwgb3BhY2l0eTowLCBlYXNlOlBvd2VyMy5lYXNlT3V0fSwgMC4wNSwgMC4yKTtcbiAgICAgIH0pXG5cbiAgICAgIGluVmlldyhcIm1haW4gLmxpbmVzSW5WaWV3XCIpLm9uKCdlbnRlcicsIGVsID0+IHtcbiAgICAgICAgaWYoIWVsLmRvbmUpICBlbC5saW5lc0luVEwuZHVyYXRpb24oYW5pbWF0aW9uRHVyYXRpb24gKiAxLjUpLnBsYXkoKTtcbiAgICAgIH0pLm9uKCdleGl0JywgZWwgPT4ge1xuICAgICAgICBlbC5kb25lID0gdHJ1ZTtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gZWwuc3BsaXRMaW5lcy5fb3JpZ2luYWxzO1xuICAgICAgICAvL2VsLmxpbmVzSW5UTC5kdXJhdGlvbigwLjIpLnJldmVyc2UoKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgaW5WaWV3Lm9mZnNldCh7XG4gICAgICAgIHRvcDogLTEyMCxcbiAgICAgICAgbGVmdDotNTAsXG4gICAgICAgIHJpZ2h0Oi01MCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgIH0pO1xuXG4gIH1cblxuICBpbnRybygpIHtcblxuICAgIGNvbnN0IGludHJvID0gbmV3IFRpbWVsaW5lTWF4KHsgcGF1c2VkOnRydWUsIG9uU3RhcnQ6KCk9PntcbiAgICAgIHRoaXMuRE9NLmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbG9hZGluZycpO1xuICAgIH19KVxuXG4gICAgaW50cm8uZnJvbSh0aGlzLkRPTS5ib2R5LCAxLjIsIHtvcGFjaXR5OjAsIGVhc2U6UG93ZXIzLmVhc2VPdXR9LCAwLjMpXG4gICAgaW50cm8ucGxheSgpO1xuXG4gIH1cblxufVxuXG5jb25zdCBhcHAgPSBuZXcgQXBwKCk7XG4iXSwibmFtZXMiOlsibm9ybWFsaXplIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJjbGFtcCIsImluaXRIb21lIiwiQmFyYmEiLCJCYXNlVmlldyIsImV4dGVuZCIsImxvZyIsImluaXQiLCJpbml0UGFnZSIsIndpbmRvdyIsIk5vZGVMaXN0IiwicHJvdG90eXBlIiwiZm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsImkiLCJ0aGlzIiwibGVuZ3RoIiwiY2FsbCIsIkZhc3RDbGljayIsImxheWVyIiwib3B0aW9ucyIsIm9sZE9uQ2xpY2siLCJ0cmFja2luZ0NsaWNrIiwidHJhY2tpbmdDbGlja1N0YXJ0IiwidGFyZ2V0RWxlbWVudCIsInRvdWNoU3RhcnRYIiwidG91Y2hTdGFydFkiLCJsYXN0VG91Y2hJZGVudGlmaWVyIiwidG91Y2hCb3VuZGFyeSIsInRhcERlbGF5IiwidGFwVGltZW91dCIsIm5vdE5lZWRlZCIsIm1ldGhvZHMiLCJjb250ZXh0IiwibCIsIm1ldGhvZCIsImFwcGx5IiwiYXJndW1lbnRzIiwiYmluZCIsImRldmljZUlzQW5kcm9pZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbk1vdXNlIiwib25DbGljayIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsIm9uVG91Y2hDYW5jZWwiLCJFdmVudCIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwiY2FwdHVyZSIsInJtdiIsIk5vZGUiLCJoaWphY2tlZCIsImFkdiIsImV2ZW50IiwicHJvcGFnYXRpb25TdG9wcGVkIiwib25jbGljayIsImRldmljZUlzV2luZG93c1Bob25lIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImRldmljZUlzSU9TIiwidGVzdCIsImRldmljZUlzSU9TNCIsImRldmljZUlzSU9TV2l0aEJhZFRhcmdldCIsImRldmljZUlzQmxhY2tCZXJyeTEwIiwibmVlZHNDbGljayIsInRhcmdldCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJkaXNhYmxlZCIsImNsYXNzTmFtZSIsIm5lZWRzRm9jdXMiLCJyZWFkT25seSIsInNlbmRDbGljayIsImNsaWNrRXZlbnQiLCJ0b3VjaCIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImJsdXIiLCJjaGFuZ2VkVG91Y2hlcyIsImNyZWF0ZUV2ZW50IiwiaW5pdE1vdXNlRXZlbnQiLCJkZXRlcm1pbmVFdmVudFR5cGUiLCJzY3JlZW5YIiwic2NyZWVuWSIsImNsaWVudFgiLCJjbGllbnRZIiwiZm9yd2FyZGVkVG91Y2hFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJ0YWdOYW1lIiwiZm9jdXMiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInVwZGF0ZVNjcm9sbFBhcmVudCIsInNjcm9sbFBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJmYXN0Q2xpY2tTY3JvbGxQYXJlbnQiLCJjb250YWlucyIsInNjcm9sbEhlaWdodCIsIm9mZnNldEhlaWdodCIsImZhc3RDbGlja0xhc3RTY3JvbGxUb3AiLCJzY3JvbGxUb3AiLCJnZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0IiwiZXZlbnRUYXJnZXQiLCJub2RlVHlwZSIsIlRFWFRfTk9ERSIsInBhcmVudE5vZGUiLCJzZWxlY3Rpb24iLCJ0YXJnZXRUb3VjaGVzIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2VDb3VudCIsImlzQ29sbGFwc2VkIiwiaWRlbnRpZmllciIsInByZXZlbnREZWZhdWx0IiwidGltZVN0YW1wIiwicGFnZVgiLCJwYWdlWSIsImxhc3RDbGlja1RpbWUiLCJ0b3VjaEhhc01vdmVkIiwiYm91bmRhcnkiLCJNYXRoIiwiYWJzIiwiZmluZENvbnRyb2wiLCJsYWJlbEVsZW1lbnQiLCJ1bmRlZmluZWQiLCJjb250cm9sIiwiaHRtbEZvciIsImdldEVsZW1lbnRCeUlkIiwicXVlcnlTZWxlY3RvciIsImZvckVsZW1lbnQiLCJ0YXJnZXRUYWdOYW1lIiwiY2FuY2VsTmV4dENsaWNrIiwiZWxlbWVudEZyb21Qb2ludCIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJ0b3AiLCJjYW5jZWxhYmxlIiwic3RvcFByb3BhZ2F0aW9uIiwicGVybWl0dGVkIiwiZGV0YWlsIiwiZGVzdHJveSIsIm1ldGFWaWV3cG9ydCIsImNocm9tZVZlcnNpb24iLCJibGFja2JlcnJ5VmVyc2lvbiIsIm9udG91Y2hzdGFydCIsImV4ZWMiLCJjb250ZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic2Nyb2xsV2lkdGgiLCJvdXRlcldpZHRoIiwibWF0Y2giLCJzdHlsZSIsIm1zVG91Y2hBY3Rpb24iLCJ0b3VjaEFjdGlvbiIsImF0dGFjaCIsIm1vZHVsZSIsImV4cG9ydHMiLCJIZWFkZXIiLCJlbCIsIkRPTSIsImJvZHkiLCJicmFuZCIsInRvZ2dsZSIsIm1lbnVDb250YWluZXIiLCJtZW51T3BlbiIsIm1lbnVPcGVuVEwiLCJUaW1lbGluZU1heCIsInBhdXNlZCIsImUiLCJjbGFzc0xpc3QiLCJfdGhpcyIsIm92ZXJmbG93IiwidmlzaWJpbGl0eSIsInRvdGFsRHVyYXRpb24iLCJyZXN0YXJ0IiwicmV2ZXJzZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbGVtIiwicmVtb3ZlIiwiY3VycmVudFRhcmdldCIsImFkZCIsInN5IiwiZGV2TW9kZSIsImZvb3RlciIsImJhcmJhV3JhcHBlciIsInNjcm9sbFRvIiwiY29uc29sZSIsImFkZEV2ZW50cyIsImludHJvIiwiU25pZmYiLCJzY3JvbGxSZXN0b3JhdGlvbiIsIkRpc3BhdGNoZXIiLCJvbiIsImN1cnJlbnRTdGF0dXMiLCJvbGRTdGF0dXMiLCJjb250YWluZXIiLCJmZWF0dXJlcyIsIm1vYmlsZSIsImluaXRQcmxseCIsImluaXRJblZpZXciLCJIVE1MRWxlbWVudCIsIk1vdXNlRXZlbnQiLCJnYSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwYWdlVHJhbnNpdGlvbiIsIkJhc2VUcmFuc2l0aW9uIiwiYWxsIiwibmV3Q29udGFpbmVyTG9hZGluZyIsInRyYW5zaXRpb25PdXQiLCJ0aGVuIiwidHJhbnNpdGlvbkluIiwiZGVmZXJyZWQiLCJVdGlscyIsIm9sZENvbnRhaW5lciIsInBhZ2VPdXQiLCJvbkNvbXBsZXRlIiwicmVzb2x2ZSIsInRvIiwib3BhY2l0eSIsImVhc2UiLCJQb3dlcjMiLCJlYXNlT3V0IiwicGxheSIsInByb21pc2UiLCJkaXNwbGF5IiwibmV3Q29udGFpbmVyIiwicGFnZUluIiwiZG9uZSIsImZyb20iLCJQamF4IiwiZ2V0VHJhbnNpdGlvbiIsInN0YXJ0IiwiVExQcmxseHMiLCJwcmxseHMiLCJpdGVtIiwicHJsbHhUTCIsInNldCIsInkiLCJnZXRBdHRyaWJ1dGUiLCJvdmVyd3JpdGUiLCJQb3dlcjAiLCJlYXNlTm9uZSIsInB1c2giLCJ0aWNrZXIiLCJpbmRleCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIl90aGlzNCIsImlubmVySGVpZ2h0Iiwibm9ybSIsInV0aWxzIiwicHJvZ3Jlc3MiLCJmYWRlSW5FbGVtcyIsImZhZGVJblRMIiwiZHVyYXRpb24iLCJhbmltYXRpb25EdXJhdGlvbiIsImxldHRlcnNJbkVsZW1zIiwic3BsaXRMZXR0ZXJzIiwiU3BsaXRUZXh0IiwibGV0dGVyc0luVEwiLCJzdGFnZ2VyRnJvbSIsImNoYXJzIiwiaW5uZXJIVE1MIiwiX29yaWdpbmFscyIsImxpbmVzSW5FbGVtcyIsInNwbGl0TGluZXMiLCJsaW5lc0luVEwiLCJsaW5lcyIsIm9mZnNldCIsIm9uU3RhcnQiXSwibWFwcGluZ3MiOiJ1SkE4Q08sU0FBU0EsRUFBVUMsRUFBT0MsRUFBS0MsVUFDNUJGLEVBQVFDLElBQVFDLEVBQU1ELEdBR2hDLFNBQWdCRSxFQUFN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"}